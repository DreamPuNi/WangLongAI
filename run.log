[DEBUG][2025-03-19 11:37:20][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-19 11:37:20][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-19 11:37:20][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[DEBUG][2025-03-19 11:43:25][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-19 11:43:25][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-19 11:43:25][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[DEBUG][2025-03-19 11:43:25][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-19 11:43:25][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-19 11:43:26][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-19 11:43:27][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-19 11:43:27][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[WARNING][2025-03-19 11:44:07][wecommix_channel.py:208] - è·å–æ•°æ®å¤±è´¥ï¼Œé‡è¯•ç¬¬1æ¬¡Â·Â·Â·Â·Â·Â·
[WARNING][2025-03-19 11:44:22][wecommix_channel.py:208] - è·å–æ•°æ®å¤±è´¥ï¼Œé‡è¯•ç¬¬2æ¬¡Â·Â·Â·Â·Â·Â·
[WARNING][2025-03-19 11:44:37][wecommix_channel.py:208] - è·å–æ•°æ®å¤±è´¥ï¼Œé‡è¯•ç¬¬3æ¬¡Â·Â·Â·Â·Â·Â·
[WARNING][2025-03-19 11:44:52][wecommix_channel.py:208] - è·å–æ•°æ®å¤±è´¥ï¼Œé‡è¯•ç¬¬1æ¬¡Â·Â·Â·Â·Â·Â·
[WARNING][2025-03-19 11:45:07][wecommix_channel.py:208] - è·å–æ•°æ®å¤±è´¥ï¼Œé‡è¯•ç¬¬2æ¬¡Â·Â·Â·Â·Â·Â·
[WARNING][2025-03-19 11:45:22][wecommix_channel.py:208] - è·å–æ•°æ®å¤±è´¥ï¼Œé‡è¯•ç¬¬3æ¬¡Â·Â·Â·Â·Â·Â·
[ERROR][2025-03-19 11:45:27][wecommix_channel.py:238] - è·å–contactsæˆ–roomså¤±è´¥ï¼Œç¨‹åºé€€å‡º
[ERROR][2025-03-19 11:45:27][interface.py:34] - App startup failed!
[ERROR][2025-03-19 11:45:27][interface.py:35] - module 'os' has no attribute 'exit'
Traceback (most recent call last):
  File "D:\Program\WangLongAI-dev\interface.py", line 32, in run
    start_channel(channel_name)
  File "D:\Program\WangLongAI-dev\interface.py", line 49, in start_channel
    channel.startup()
  File "D:\Program\WangLongAI-dev\channel\wecommix\wecommix_channel.py", line 240, in startup
    os.exit(0)
AttributeError: module 'os' has no attribute 'exit'. Did you mean: '_exit'?
[DEBUG][2025-03-19 11:52:19][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-19 11:52:19][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-19 11:52:19][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[DEBUG][2025-03-19 17:28:13][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-19 17:28:14][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-19 17:28:14][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[ERROR][2025-03-19 17:28:32][gewe_manage.py:37] - æ£€æŸ¥gewechatåœ¨çº¿çŠ¶æ€å¤±è´¥: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
[INFO][2025-03-19 17:28:35][config.py:361] - [Config] Configuration saved.
[DEBUG][2025-03-19 17:28:35][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-19 17:28:35][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-19 17:28:35][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[DEBUG][2025-03-19 17:28:58][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-19 17:28:58][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-19 17:28:58][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[DEBUG][2025-03-19 17:28:58][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-19 17:28:58][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-19 17:28:58][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-19 17:28:58][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-19 17:28:58][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-19 17:28:58][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-19 17:28:58][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-19 17:28:58][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-19 17:28:58][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-19 17:28:58][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-19 17:28:58][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º7043ã€‚
[INFO][2025-03-19 17:28:58][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-19 17:28:58][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-19 17:28:58][keyword.py:41] - [keyword] {}
[INFO][2025-03-19 17:28:58][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-19 17:28:58][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-19 17:28:58][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-19 17:28:58][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-19 17:28:58][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-19 17:28:58][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-19 17:28:58][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-19 17:28:58][hello.py:37] - [Hello] inited
[INFO][2025-03-19 17:28:58][finish.py:21] - [Finish] inited
[INFO][2025-03-19 17:28:59][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-19 17:28:59][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-19 17:29:02][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-19 17:29:02][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-19 17:33:54][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1645032566,"FromUserName":{"string":"wxid_7im0hocoravz22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":51,"Content":{"string":"<msg>\\n<op id=\'11\'>\\n<name>HandOffMaster</name>\\n<arg><handofflist opcode=\\"4\\" seq=\\"46\\" devicevirtualid=\\"f9ec3cfb039d086ce08fda96436f92bc\\" networkstatus=\\"wifi\\" availablecount=\\"1000\\">\\n        \\n        </handofflist></arg>\\n</op>\\n</msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742376835,"MsgSource":"<msgsource>\\n\\t<signature>v1_lx5JqpGs</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","NewMsgId":6073652336992840137,"MsgSeq":857737342},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-19 17:33:54][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1160976907,"FromUserName":{"string":"wxid_7im0hocoravz22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":10002,"Content":{"string":"<?xml version=\\"1.0\\"?>\\n<appmsg appid=\\"\\" sdkver=\\"0\\">\\n\\t<title>ChatSync</title>\\n\\t<des>ChatSync</des>\\n\\t<username />\\n\\t<action>phone</action>\\n\\t<type>35</type>\\n\\t<showtype>0</showtype>\\n\\t<content />\\n\\t<url>3057020100044b304902010002040a58efa002032f5149020458312275020467da8f52042463336133326231372d633630302d343764642d383763352d6335353664333835306432610204051400050201000405004c550500</url>\\n\\t<lowurl />\\n\\t<forwardflag>0</forwardflag>\\n\\t<dataurl />\\n\\t<lowdataurl />\\n\\t<contentattr>0</contentattr>\\n\\t<syncrecordctx><![CDATA[CAM=]]></syncrecordctx>\\n\\t<streamvideo>\\n\\t\\t<streamvideourl />\\n\\t\\t<streamvideototaltime>0</streamvideototaltime>\\n\\t\\t<streamvideotitle />\\n\\t\\t<streamvideowording />\\n\\t\\t<streamvideoweburl />\\n\\t\\t<streamvideothumburl />\\n\\t\\t<streamvideoaduxinfo />\\n\\t\\t<streamvideopublishid />\\n\\t</streamvideo>\\n\\t<canvasPageItem>\\n\\t\\t<canvasPageXml><![CDATA[]]></canvasPageXml>\\n\\t</canvasPageItem>\\n\\t<appattach>\\n\\t\\t<totallen>7258</totallen>\\n\\t\\t<attachid />\\n\\t\\t<cdnattachurl />\\n\\t\\t<emoticonmd5 />\\n\\t\\t<aeskey>40e827b1cbc3e713b8dfd7b2da146dda10ad6c735a0915d57084d6d26887b46c36db6d502790cb18bccf8646154033b1d93cb7bb15319ea82179badf3f74e1e37dee1bf18c7be7ac3a4309e5f752c6db7efeaf0920fc069d1f93df69c0cf44f5614b88fc2b6aa97ec97a7ea1be34f02b35016b30447773b48b11750c415cda7a</aeskey>\\n\\t\\t<fileext />\\n\\t\\t<islargefilemsg>0</islargefilemsg>\\n\\t</appattach>\\n\\t<extinfo>supportAfterSleep,supportGetMore</extinfo>\\n\\t<androidsource>0</androidsource>\\n\\t<thumburl />\\n\\t<mediatagname />\\n\\t<messageaction><![CDATA[afterLogin]]></messageaction>\\n\\t<messageext><![CDATA[]]></messageext>\\n\\t<emoticongift>\\n\\t\\t<packageflag>0</packageflag>\\n\\t\\t<packageid />\\n\\t</emoticongift>\\n\\t<emoticonshared>\\n\\t\\t<packageflag>0</packageflag>\\n\\t\\t<packageid />\\n\\t</emoticonshared>\\n\\t<designershared>\\n\\t\\t<designeruin>0</designeruin>\\n\\t\\t<designername>null</designername>\\n\\t\\t<designerrediretcturl><![CDATA[null]]></designerrediretcturl>\\n\\t</designershared>\\n\\t<emotionpageshared>\\n\\t\\t<tid>0</tid>\\n\\t\\t<title>null</title>\\n\\t\\t<desc>null</desc>\\n\\t\\t<iconUrl><![CDATA[null]]></iconUrl>\\n\\t\\t<secondUrl>null</secondUrl>\\n\\t\\t<pageType>0</pageType>\\n\\t\\t<setKey>null</setKey>\\n\\t</emotionpageshared>\\n\\t<webviewshared>\\n\\t\\t<shareUrlOriginal />\\n\\t\\t<shareUrlOpen />\\n\\t\\t<jsAppId />\\n\\t\\t<publisherId />\\n\\t\\t<publisherReqId />\\n\\t</webviewshared>\\n\\t<template_id />\\n\\t<md5 />\\n\\t<websearch>\\n\\t\\t<rec_category>0</rec_category>\\n\\t\\t<channelId>0</channelId>\\n\\t</websearch>\\n\\t<weappinfo>\\n\\t\\t<username />\\n\\t\\t<appid />\\n\\t\\t<appservicetype>0</appservicetype>\\n\\t\\t<secflagforsinglepagemode>0</secflagforsinglepagemode>\\n\\t\\t<videopageinfo>\\n\\t\\t\\t<thumbwidth>0</thumbwidth>\\n\\t\\t\\t<thumbheight>0</thumbheight>\\n\\t\\t\\t<fromopensdk>0</fromopensdk>\\n\\t\\t</videopageinfo>\\n\\t</weappinfo>\\n\\t<statextstr />\\n\\t<musicShareItem>\\n\\t\\t<musicDuration>0</musicDuration>\\n\\t</musicShareItem>\\n\\t<finderLiveProductShare>\\n\\t\\t<finderLiveID />\\n\\t\\t<finderUsername />\\n\\t\\t<finderObjectID />\\n\\t\\t<finderNonceID />\\n\\t\\t<liveStatus />\\n\\t\\t<appId />\\n\\t\\t<pagePath />\\n\\t\\t<productId />\\n\\t\\t<coverUrl />\\n\\t\\t<productTitle />\\n\\t\\t<marketPrice><![CDATA[0]]></marketPrice>\\n\\t\\t<sellingPrice><![CDATA[0]]></sellingPrice>\\n\\t\\t<platformHeadImg />\\n\\t\\t<platformName />\\n\\t\\t<shopWindowId />\\n\\t\\t<flashSalePrice><![CDATA[0]]></flashSalePrice>\\n\\t\\t<flashSaleEndTime><![CDATA[0]]></flashSaleEndTime>\\n\\t\\t<ecSource />\\n\\t\\t<sellingPriceWording />\\n\\t\\t<platformIconURL />\\n\\t\\t<firstProductTagURL />\\n\\t\\t<firstProductTagAspectRatioString><![CDATA[0.0]]></firstProductTagAspectRatioString>\\n\\t\\t<secondProductTagURL />\\n\\t\\t<secondProductTagAspectRatioString><![CDATA[0.0]]></secondProductTagAspectRatioString>\\n\\t\\t<firstGuaranteeWording />\\n\\t\\t<secondGuaranteeWording />\\n\\t\\t<thirdGuaranteeWording />\\n\\t\\t<isPriceBeginShow>false</isPriceBeginShow>\\n\\t\\t<lastGMsgID />\\n\\t\\t<promoterKey />\\n\\t\\t<discountWording />\\n\\t\\t<priceSuffixDescription />\\n\\t\\t<productCardKey />\\n\\t\\t<isWxShop />\\n\\t\\t<brandIconUrl />\\n\\t\\t<showBoxItemStringList />\\n\\t</finderLiveProductShare>\\n\\t<finderOrder>\\n\\t\\t<appID />\\n\\t\\t<orderID />\\n\\t\\t<path />\\n\\t\\t<priceWording />\\n\\t\\t<stateWording />\\n\\t\\t<productImageURL />\\n\\t\\t<products />\\n\\t\\t<productsCount><![CDATA[0]]></productsCount>\\n\\t\\t<orderType><![CDATA[0]]></orderType>\\n\\t\\t<newPriceWording />\\n\\t\\t<newStateWording />\\n\\t\\t<useNewWording><![CDATA[0]]></useNewWording>\\n\\t</finderOrder>\\n\\t<finderShopWindowShare>\\n\\t\\t<finderUsername />\\n\\t\\t<avatar />\\n\\t\\t<nickname />\\n\\t\\t<commodityInStockCount />\\n\\t\\t<appId />\\n\\t\\t<path />\\n\\t\\t<appUsername />\\n\\t\\t<query />\\n\\t\\t<liteAppId />\\n\\t\\t<liteAppPath />\\n\\t\\t<liteAppQuery />\\n\\t\\t<platformTagURL />\\n\\t\\t<saleWording />\\n\\t\\t<lastGMsgID />\\n\\t\\t<profileTypeWording />\\n\\t\\t<saleWordingExtra />\\n\\t\\t<isWxShop />\\n\\t\\t<platformIconUrl />\\n\\t\\t<brandIconUrl />\\n\\t\\t<description />\\n\\t\\t<backgroundUrl />\\n\\t\\t<darkModePlatformIconUrl />\\n\\t\\t<productImageURLList />\\n\\t</finderShopWindowShare>\\n\\t<findernamecard>\\n\\t\\t<username />\\n\\t\\t<avatar><![CDATA[]]></avatar>\\n\\t\\t<nickname />\\n\\t\\t<auth_job />\\n\\t\\t<auth_icon>0</auth_icon>\\n\\t\\t<auth_icon_url />\\n\\t\\t<ecSource><![CDATA[]]></ecSource>\\n\\t\\t<lastGMsgID />\\n\\t</findernamecard>\\n\\t<finderGuarantee>\\n\\t\\t<scene><![CDATA[0]]></scene>\\n\\t</finderGuarantee>\\n\\t<directshare>0</directshare>\\n\\t<gamecenter>\\n\\t\\t<namecard>\\n\\t\\t\\t<iconUrl />\\n\\t\\t\\t<name />\\n\\t\\t\\t<desc />\\n\\t\\t\\t<tail />\\n\\t\\t\\t<jumpUrl />\\n\\t\\t</namecard>\\n\\t</gamecenter>\\n\\t<patMsg>\\n\\t\\t<chatUser />\\n\\t\\t<records>\\n\\t\\t\\t<recordNum>0</recordNum>\\n\\t\\t</records>\\n\\t</patMsg>\\n\\t<secretmsg>\\n\\t\\t<issecretmsg>0</issecretmsg>\\n\\t</secretmsg>\\n\\t<referfromscene>0</referfromscene>\\n\\t<gameshare>\\n\\t\\t<liteappext>\\n\\t\\t\\t<liteappbizdata />\\n\\t\\t\\t<priority>0</priority>\\n\\t\\t</liteappext>\\n\\t\\t<appbrandext>\\n\\t\\t\\t<litegameinfo />\\n\\t\\t\\t<priority>-1</priority>\\n\\t\\t</appbrandext>\\n\\t\\t<gameshareid />\\n\\t\\t<sharedata />\\n\\t\\t<isvideo>0</isvideo>\\n\\t\\t<duration>-1</duration>\\n\\t\\t<isexposed>0</isexposed>\\n\\t\\t<readtext />\\n\\t</gameshare>\\n\\t<mpsharetrace>\\n\\t\\t<hasfinderelement>0</hasfinderelement>\\n\\t\\t<lastgmsgid />\\n\\t</mpsharetrace>\\n\\t<wxgamecard>\\n\\t\\t<framesetname />\\n\\t\\t<mbcarddata />\\n\\t\\t<minpkgversion />\\n\\t\\t<clientextinfo />\\n\\t\\t<mbcardheight>0</mbcardheight>\\n\\t\\t<isoldversion>0</isoldversion>\\n\\t</wxgamecard>\\n\\t<liteapp>\\n\\t\\t<id>null</id>\\n\\t\\t<path />\\n\\t\\t<query />\\n\\t\\t<istransparent>0</istransparent>\\n\\t\\t<hideicon>0</hideicon>\\n\\t</liteapp>\\n\\t<finderCollection>\\n\\t\\t<feedCount>0</feedCount>\\n\\t\\t<collectionTopicType>0</collectionTopicType>\\n\\t\\t<paidCollectionType>0</paidCollectionType>\\n\\t\\t<price>0</price>\\n\\t\\t<title />\\n\\t\\t<collectionId>0</collectionId>\\n\\t\\t<thumbUrl />\\n\\t\\t<collectionDesc />\\n\\t\\t<authorUsername />\\n\\t\\t<nickname />\\n\\t\\t<avatarURL />\\n\\t\\t<authIconURL />\\n\\t\\t<authIconType>0</authIconType>\\n\\t</finderCollection>\\n</appmsg>\\n"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742376832,"MsgSource":"<msgsource>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","NewMsgId":7862327882781444592,"MsgSeq":857737341},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-19 17:33:54][gewechat_channel.py:244] - [gewechat] ignore status sync message: <msg>
<op id='11'>
<name>HandOffMaster</name>
<arg><handofflist opcode="4" seq="46" devicevirtualid="f9ec3cfb039d086ce08fda96436f92bc" networkstatus="wifi" availablecount="1000">
        
        </handofflist></arg>
</op>
</msg>
[DEBUG][2025-03-19 17:33:54][gewechat_channel.py:254] - [gewechat] ignore message from myself: wxid_7im0hocoravz22: None
[DEBUG][2025-03-19 17:35:27][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-19 17:35:27][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-19 17:35:27][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[DEBUG][2025-03-19 17:35:27][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-19 17:35:27][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-19 17:35:27][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-19 17:35:27][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-19 17:35:27][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-19 17:35:27][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-19 17:35:27][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-19 17:35:27][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-19 17:35:27][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-19 17:35:27][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-19 17:35:27][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4962ã€‚
[INFO][2025-03-19 17:35:27][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-19 17:35:27][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-19 17:35:27][keyword.py:41] - [keyword] {}
[INFO][2025-03-19 17:35:27][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-19 17:35:27][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-19 17:35:27][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-19 17:35:27][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-19 17:35:27][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-19 17:35:27][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-19 17:35:27][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-19 17:35:27][hello.py:37] - [Hello] inited
[INFO][2025-03-19 17:35:27][finish.py:21] - [Finish] inited
[INFO][2025-03-19 17:35:27][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-19 17:35:27][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-19 17:35:30][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-19 17:35:30][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-19 17:35:58][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":38778814,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"1"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742376959,"MsgSource":"<msgsource>\\n\\t<sec_msg_node>\\n\\t\\t<alnode>\\n\\t\\t\\t<fr>1</fr>\\n\\t\\t</alnode>\\n\\t</sec_msg_node>\\n\\t<pua>1</pua>\\n\\t<signature>N0_V1_lvMaVWA3|v1_Jg2F+XXq</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : 1","NewMsgId":2385605963505722535,"MsgSeq":857737344},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-19 17:35:58][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-19 17:36:05][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=1, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000018E7BB96C80>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-19 17:36:05][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=1, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000018E7BB96C80>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-19 17:36:05][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-19 17:36:05][godcmd.py:217] - [Godcmd] on_handle_context. content: 1
[DEBUG][2025-03-19 17:36:05][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-19 17:36:05][keyword.py:53] - [keyword] on_handle_context. content: 1
[DEBUG][2025-03-19 17:36:05][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-19 17:36:05][hello.py:96] - [Hello] on_handle_context. content: 1
[DEBUG][2025-03-19 17:36:05][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-19 17:36:05][finish.py:28] - [Finish] on_handle_context. content: 1
[DEBUG][2025-03-19 17:36:05][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=1
[INFO][2025-03-19 17:36:05][bridge.py:73] - create bot coze for chat
[INFO][2025-03-19 17:36:07][bytedance_coze_bot.py:41] - [COZE] query=1
[DEBUG][2025-03-19 17:36:07][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-19 17:36:07][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x0000018E7BB96B60> query=1
[DEBUG][2025-03-19 17:36:33][bytedance_coze_bot.py:119] - [COZE] reply=Reply(type=TEXT, content=ã€Œä¸å¤ªæ˜ç™½ä½ è¯´çš„â€œ1â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ğŸ¤” æ˜¯åœ¨è·Ÿæˆ‘ç©ç¥ç§˜ä»£ç ï¼Œè¿˜æ˜¯æœ‰ä»€ä¹ˆæƒ³è·Ÿæˆ‘åˆ†äº«çš„å‘€ï¼Ÿã€)
[INFO][2025-03-19 17:36:46][gewechat_channel.py:144] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œä¸å¤ªæ˜ç™½ä½ è¯´çš„â€œ1â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ğŸ¤” æ˜¯åœ¨è·Ÿæˆ‘ç©ç¥ç§˜ä»£ç ï¼Œè¿˜æ˜¯æœ‰ä»€ä¹ˆæƒ³è·Ÿæˆ‘åˆ†äº«çš„å‘€ï¼Ÿã€
[DEBUG][2025-03-19 17:38:21][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":850646287,"FromUserName":{"string":"wxid_7im0hocoravz22"},"ToUserName":{"string":"wxid_j9m9a65vqqvc22"},"MsgType":51,"Content":{"string":"<msg>\\n<op id=\'2\'>\\n<username>wxid_j9m9a65vqqvc22</username>\\n<name>lastMessage</name>\\n<arg>{\\"messageSvrId\\":\\"6750261507782610217\\",\\"MsgCreateTime\\":\\"1742377007000\\"}</arg>\\n</op>\\n</msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742377103,"MsgSource":"<msgsource>\\n\\t<signature>v1_WeNA7u2E</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","NewMsgId":8866469160660524366,"MsgSeq":857737346},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-19 17:38:21][gewechat_channel.py:244] - [gewechat] ignore status sync message: <msg>
<op id='2'>
<username>wxid_j9m9a65vqqvc22</username>
<name>lastMessage</name>
<arg>{"messageSvrId":"6750261507782610217","MsgCreateTime":"1742377007000"}</arg>
</op>
</msg>
[ERROR][2025-03-19 17:42:34][bytedance_coze_bot.py:204] - Error downloading https://www.helloimg.com/i/2025/03/18/67d9489bea2ed.jpg: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
[DEBUG][2025-03-19 17:42:34][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489bea2ed.jpg)
[DEBUG][2025-03-19 17:42:34][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489bea2ed.jpg), context: Context(type=TEXT, content=1, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000018E7BB96C80>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22', 'channel': <channel.gewechat.gewechat_channel.GeWeChatChannel object at 0x0000018E775F0580>})
[INFO][2025-03-19 17:42:34][gewechat_channel.py:144] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489bea2ed.jpg
[DEBUG][2025-03-19 17:42:34][chat_channel.py:410] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 09:12:37][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 09:12:37][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 09:12:37][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[ERROR][2025-03-20 09:13:54][gewe_manage.py:81] - è·å–Gewechatç”¨æˆ·ä¿¡æ¯å¤±è´¥: {"ret":500,"msg":"è·å–ä¸ªäººä¿¡æ¯å¤±è´¥","data":{"code":"-1","msg":"å¾®ä¿¡å·²ç¦»çº¿"}}
[ERROR][2025-03-20 09:14:11][gewe_manage.py:107] - ç™»å‡ºå¤±è´¥: {"ret":500,"msg":null}
[INFO][2025-03-20 09:14:15][gewe_manage.py:31] - Gewechatç”¨æˆ·æœªåœ¨çº¿
[INFO][2025-03-20 09:14:15][gewe_manage.py:90] - GewechatçŠ¶æ€æ£€æŸ¥: ç”¨æˆ·æœªç™»å½•
[INFO][2025-03-20 09:14:16][gewe_manage.py:31] - Gewechatç”¨æˆ·æœªåœ¨çº¿
[DEBUG][2025-03-20 09:14:24][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 09:14:24][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 09:14:24][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[DEBUG][2025-03-20 09:14:24][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 09:14:24][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 09:14:24][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 09:14:24][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 09:14:24][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 09:14:24][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 09:14:24][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 09:14:24][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 09:14:24][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 09:14:24][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 09:14:24][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º0925ã€‚
[INFO][2025-03-20 09:14:24][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 09:14:24][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 09:14:24][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 09:14:24][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 09:14:24][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 09:14:24][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 09:14:24][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 09:14:24][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 09:14:24][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 09:14:24][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 09:14:24][hello.py:37] - [Hello] inited
[INFO][2025-03-20 09:14:24][finish.py:21] - [Finish] inited
[INFO][2025-03-20 09:14:53][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 09:14:53][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 09:14:56][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 09:14:56][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 09:14:57][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":841609941,"FromUserName":{"string":"wxid_7im0hocoravz22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":51,"Content":{"string":"<msg>\\n<op id=\'11\'>\\n<name>HandOffMaster</name>\\n<arg><handofflist opcode=\\"4\\" seq=\\"49\\" devicevirtualid=\\"f9ec3cfb039d086ce08fda96436f92bc\\" networkstatus=\\"5g\\" availablecount=\\"1000\\">\\n        \\n        </handofflist></arg>\\n</op>\\n</msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742433297,"MsgSource":"<msgsource>\\n\\t<signature>v1_K95mdL28</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","NewMsgId":7453682953529775791,"MsgSeq":857737363},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 09:14:57][gewechat_channel.py:244] - [gewechat] ignore status sync message: <msg>
<op id='11'>
<name>HandOffMaster</name>
<arg><handofflist opcode="4" seq="49" devicevirtualid="f9ec3cfb039d086ce08fda96436f92bc" networkstatus="5g" availablecount="1000">
        
        </handofflist></arg>
</op>
</msg>
[DEBUG][2025-03-20 09:20:45][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 09:20:45][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 09:20:45][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[DEBUG][2025-03-20 09:20:45][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 09:20:45][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 09:20:45][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 09:20:45][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 09:20:45][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 09:20:45][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 09:20:45][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 09:20:45][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 09:20:45][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 09:20:45][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 09:20:45][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º5182ã€‚
[INFO][2025-03-20 09:20:45][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 09:20:45][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 09:20:45][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 09:20:45][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 09:20:45][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 09:20:45][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 09:20:45][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 09:20:45][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 09:20:45][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 09:20:45][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 09:20:45][hello.py:37] - [Hello] inited
[INFO][2025-03-20 09:20:45][finish.py:21] - [Finish] inited
[INFO][2025-03-20 09:20:45][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 09:20:45][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 09:20:48][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 09:20:48][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 09:23:01][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 09:23:01][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 09:26:37][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1663199731,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe5\x9c\xa8\xe5\x90\x97"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742433998,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_xV3Ip/g7|v1_e12K98Lx</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe5\x9c\xa8\xe5\x90\x97","NewMsgId":5185348937898024939,"MsgSeq":857737365},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 09:26:38][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 09:26:45][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=åœ¨å—, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000020A90ED7B50>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 09:26:45][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=åœ¨å—, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000020A90ED7B50>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 09:26:45][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 09:26:45][godcmd.py:217] - [Godcmd] on_handle_context. content: åœ¨å—
[DEBUG][2025-03-20 09:26:45][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 09:26:45][keyword.py:53] - [keyword] on_handle_context. content: åœ¨å—
[DEBUG][2025-03-20 09:26:45][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 09:26:45][hello.py:96] - [Hello] on_handle_context. content: åœ¨å—
[DEBUG][2025-03-20 09:26:45][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 09:26:45][finish.py:28] - [Finish] on_handle_context. content: åœ¨å—
[DEBUG][2025-03-20 09:26:45][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=åœ¨å—
[INFO][2025-03-20 09:26:45][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 09:26:47][bytedance_coze_bot.py:41] - [COZE] query=åœ¨å—
[DEBUG][2025-03-20 09:26:47][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 09:26:47][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x0000020A90F101C0> query=åœ¨å—
[DEBUG][2025-03-20 09:26:59][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œåœ¨çš„åœ¨çš„~æˆ‘éšæ—¶éƒ½åœ¨å‘¢ğŸ˜† æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å„¿å‘€ï¼Ÿã€)
[DEBUG][2025-03-20 09:26:59][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œåœ¨çš„åœ¨çš„~æˆ‘éšæ—¶éƒ½åœ¨å‘¢ğŸ˜† æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å„¿å‘€ï¼Ÿã€), context: Context(type=TEXT, content=åœ¨å—, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000020A90ED7B50>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22', 'channel': <channel.gewechat.gewechat_channel.GeWeChatChannel object at 0x0000020A8C930580>})
[INFO][2025-03-20 09:27:06][gewechat_channel.py:144] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œåœ¨çš„åœ¨çš„~æˆ‘éšæ—¶éƒ½åœ¨å‘¢ğŸ˜† æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å„¿å‘€ï¼Ÿã€
[DEBUG][2025-03-20 09:27:06][chat_channel.py:410] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 10:00:01][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 10:00:01][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 10:00:01][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[DEBUG][2025-03-20 10:00:22][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 10:00:22][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 10:00:22][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}}
[DEBUG][2025-03-20 10:00:22][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 10:00:22][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 10:00:22][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 10:00:22][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 10:00:22][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 10:00:23][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 10:00:23][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 10:00:23][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 10:00:23][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 10:00:23][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 10:00:23][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º7813ã€‚
[INFO][2025-03-20 10:00:23][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 10:00:23][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 10:00:23][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 10:00:23][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 10:00:23][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 10:00:23][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 10:00:23][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 10:00:23][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 10:00:23][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 10:00:23][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 10:00:23][hello.py:37] - [Hello] inited
[INFO][2025-03-20 10:00:23][finish.py:21] - [Finish] inited
[INFO][2025-03-20 10:00:23][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 10:00:23][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 10:00:26][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 10:00:26][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 10:00:35][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1825962618,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe5\xb0\x8f\xe9\x94\xa6\xe5\x9c\xa8\xe5\x90\x97"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742436036,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_lRAf/4ig|v1_735WaOOx</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe5\xb0\x8f\xe9\x94\xa6\xe5\x9c\xa8\xe5\x90\x97","NewMsgId":5777774635217457192,"MsgSeq":857737367},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 10:00:36][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 10:00:36][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 10:00:43][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001ADB0B17160>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:00:43][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001ADB0B17160>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:00:43][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:00:43][godcmd.py:217] - [Godcmd] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}]
[DEBUG][2025-03-20 10:00:43][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:00:43][keyword.py:53] - [keyword] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}]
[DEBUG][2025-03-20 10:00:43][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:00:43][hello.py:96] - [Hello] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}]
[DEBUG][2025-03-20 10:00:43][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:00:43][finish.py:28] - [Finish] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}]
[DEBUG][2025-03-20 10:00:43][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}]
[INFO][2025-03-20 10:00:43][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 10:00:43][bytedance_coze_bot.py:41] - [COZE] query=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}]
[DEBUG][2025-03-20 10:00:43][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 10:00:43][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001ADB0B16B30> query=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}]
[DEBUG][2025-03-20 10:01:06][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€)
[DEBUG][2025-03-20 10:01:06][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€), context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001ADB0B17160>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22', 'channel': <channel.gewechat.gewechat_channel.GeWeChatChannel object at 0x000001ADAC570580>})
[INFO][2025-03-20 10:01:12][gewechat_channel.py:144] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€
[DEBUG][2025-03-20 10:01:12][chat_channel.py:410] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 10:01:22][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1995253161,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe6\xb2\xa1\xe4\xba\x8b\xe5\x84\xbf\xef\xbc\x8c\xe6\x89\xbe\xe4\xbd\xa0\xe8\x81\x8a\xe8\x81\x8a\xe5\xa4\xa9"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742436082,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_Od+pEtO4|v1_cvrpFqUm</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe6\xb2\xa1\xe4\xba\x8b\xe5\x84\xbf\xef\xbc\x8c\xe6\x89\xbe\xe4\xbd\xa0\xe8\x81\x8a\xe8\x81\x8a\xe5\xa4\xa9","NewMsgId":4731552002326497252,"MsgSeq":857737369},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 10:01:23][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 10:01:23][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 10:01:30][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001ADB200AEC0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:01:30][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001ADB200AEC0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:01:30][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:01:30][godcmd.py:217] - [Godcmd] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]
[DEBUG][2025-03-20 10:01:30][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:01:30][keyword.py:53] - [keyword] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]
[DEBUG][2025-03-20 10:01:30][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:01:30][hello.py:96] - [Hello] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]
[DEBUG][2025-03-20 10:01:30][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:01:30][finish.py:28] - [Finish] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]
[DEBUG][2025-03-20 10:01:30][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]
[INFO][2025-03-20 10:01:30][bytedance_coze_bot.py:41] - [COZE] query=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]
[DEBUG][2025-03-20 10:01:30][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 10:01:30][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001ADB0B16B30> query=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]
[DEBUG][2025-03-20 10:01:52][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œå¥½å‘€å¥½å‘€~èŠå¤©æˆ‘æœ€åœ¨è¡Œäº†ğŸ˜ ä½•å…ˆç”Ÿï¼Œä½ æœ€è¿‘æœ‰æ²¡æœ‰é‡åˆ°ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…å‘€ï¼Ÿã€)
[DEBUG][2025-03-20 10:01:52][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œå¥½å‘€å¥½å‘€~èŠå¤©æˆ‘æœ€åœ¨è¡Œäº†ğŸ˜ ä½•å…ˆç”Ÿï¼Œä½ æœ€è¿‘æœ‰æ²¡æœ‰é‡åˆ°ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…å‘€ï¼Ÿã€), context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001ADB200AEC0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22', 'channel': <channel.gewechat.gewechat_channel.GeWeChatChannel object at 0x000001ADAC570580>})
[INFO][2025-03-20 10:02:03][gewechat_channel.py:144] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œå¥½å‘€å¥½å‘€~èŠå¤©æˆ‘æœ€åœ¨è¡Œäº†ğŸ˜ ä½•å…ˆç”Ÿï¼Œä½ æœ€è¿‘æœ‰æ²¡æœ‰é‡åˆ°ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…å‘€ï¼Ÿã€
[DEBUG][2025-03-20 10:02:03][chat_channel.py:410] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 10:02:46][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":423290211,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"6375\\" length=\\"10602\\" bufid=\\"0\\" aeskey=\\"95737704587221b43e6ed12fb843246e\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f77f7020474e12e70020467db7747042464383366393637612d396534632d343835322d393430622d62326262366363636139376202040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"41656134326665363835663438353700391002032025381508481db102\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":10602,"buffer":"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"},"CreateTime":1742436167,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_7+m2Iq0n|v1_VxFEgD1j</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":3942940940237997168,"MsgSeq":857737371},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 10:05:19][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 10:05:19][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 10:05:19][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]}}
[DEBUG][2025-03-20 10:05:19][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 10:05:19][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 10:05:19][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 10:05:19][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 10:05:19][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 10:05:19][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 10:05:19][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 10:05:19][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 10:05:19][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 10:05:19][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 10:05:19][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º3026ã€‚
[INFO][2025-03-20 10:05:19][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 10:05:19][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 10:05:19][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 10:05:19][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 10:05:19][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 10:05:19][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 10:05:19][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 10:05:19][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 10:05:19][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 10:05:19][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 10:05:19][hello.py:37] - [Hello] inited
[INFO][2025-03-20 10:05:19][finish.py:21] - [Finish] inited
[INFO][2025-03-20 10:05:19][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 10:05:19][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 10:05:22][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 10:05:22][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 10:05:32][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1855088959,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"4436\\" length=\\"6979\\" bufid=\\"0\\" aeskey=\\"b2e66a1bd86db4e83456c6d590908709\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f77f702045ce02e70020467db77ec042432303563323933622d613935332d343365662d626661342d30326166666135326531663402040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"4165613432666536383566343835370026100503202538150840f34105\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":6979,"buffer":"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"},"CreateTime":1742436332,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_djc4KLbR|v1_6DVi2zIN</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":8651505761652957881,"MsgSeq":857737372},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 10:05:32][chat_channel.py:491] - [chat_channel] consume context: Context(type=VOICE, content=tmp/voice_8e8dd1b4-8308-4d2e-86c3-bf9a6899ab52.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000002034039B1F0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:05:32][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=tmp/voice_8e8dd1b4-8308-4d2e-86c3-bf9a6899ab52.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000002034039B1F0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:05:32][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:05:32][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:05:32][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:05:32][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:05:32][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=tmp/voice_8e8dd1b4-8308-4d2e-86c3-bf9a6899ab52.silk
[WARNING][2025-03-20 10:05:32][chat_channel.py:256] - [chat_channel]any to wav error, use raw path. name 'pysilk' is not defined
[INFO][2025-03-20 10:05:32][bridge.py:73] - create bot xunfei for voice_to_text
[DEBUG][2025-03-20 10:05:32][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_8e8dd1b4-8308-4d2e-86c3-bf9a6899ab52.silk
[INFO][2025-03-20 10:05:47][xunfei_voice.py:68] - è®¯é£è¯­éŸ³è¯†åˆ«åˆ°äº†: 
[DEBUG][2025-03-20 10:05:47][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:05:47][godcmd.py:217] - [Godcmd] on_handle_context. content: 
[DEBUG][2025-03-20 10:05:47][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:05:47][keyword.py:53] - [keyword] on_handle_context. content: 
[DEBUG][2025-03-20 10:05:47][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:05:47][hello.py:96] - [Hello] on_handle_context. content: 
[DEBUG][2025-03-20 10:05:47][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:05:47][finish.py:28] - [Finish] on_handle_context. content: 
[DEBUG][2025-03-20 10:05:47][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=
[INFO][2025-03-20 10:05:47][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 10:05:48][bytedance_coze_bot.py:41] - [COZE] query=
[DEBUG][2025-03-20 10:05:48][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 10:05:48][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x00000203403DB100> query=
[ERROR][2025-03-20 10:05:49][chat_channel.py:414] - Worker return exception: 1 validation error for Message
  Input should be a valid dictionary or instance of Message [type=model_type, input_value='code', input_type=str]
    For further information visit https://errors.pydantic.dev/2.10/v/model_type
Traceback (most recent call last):
  File "C:\Users\é¾™å´ç›ˆå­\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "D:\Program\WangLongAI-dev\channel\chat_channel.py", line 218, in _handle
    reply = self._generate_reply(context)  # replyçš„æ„å»ºæ­¥éª¤
  File "D:\Program\WangLongAI-dev\channel\chat_channel.py", line 272, in _generate_reply
    reply = self._generate_reply(new_context)
  File "D:\Program\WangLongAI-dev\channel\chat_channel.py", line 247, in _generate_reply
    reply = super().build_reply_content(context.content, context)
  File "D:\Program\WangLongAI-dev\channel\channel.py", line 38, in build_reply_content
    return Bridge().fetch_reply_content(query, context)
  File "D:\Program\WangLongAI-dev\bridge\bridge.py", line 88, in fetch_reply_content
    return self.get_bot("chat").reply(query, context)
  File "D:\Program\WangLongAI-dev\bot\bytedance\bytedance_coze_bot.py", line 60, in reply
    reply, err = self._reply(query, session, context)
  File "D:\Program\WangLongAI-dev\bot\bytedance\bytedance_coze_bot.py", line 72, in _reply
    messages = chat_client.create_chat_message(
  File "D:\Program\WangLongAI-dev\bot\bytedance\coze_client.py", line 42, in create_chat_message
    return self._send_chat(bot_id, session.get_user_id(), additional_messages, session)
  File "D:\Program\WangLongAI-dev\bot\bytedance\coze_client.py", line 26, in _send_chat
    chat_poll = self.coze.chat.create_and_poll(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\chat\__init__.py", line 519, in create_and_poll
    messages = self.messages.list(conversation_id=chat.conversation_id, chat_id=chat.id)
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\chat\message\__init__.py", line 36, in list
    return self._requester.request("post", url, False, [Message], params=params)
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\request.py", line 191, in request
    return self.send(request)
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\request.py", line 200, in send
    return self._parse_response(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\request.py", line 372, in _parse_response
    return [item_model.model_validate(item) for item in data]
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\request.py", line 372, in <listcomp>
    return [item_model.model_validate(item) for item in data]
  File "D:\Program\0-venv\dow310_env\lib\site-packages\pydantic\main.py", line 627, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for Message
  Input should be a valid dictionary or instance of Message [type=model_type, input_value='code', input_type=str]
    For further information visit https://errors.pydantic.dev/2.10/v/model_type
[DEBUG][2025-03-20 10:26:08][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 10:26:08][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 10:26:08][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]}}
[DEBUG][2025-03-20 10:26:08][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 10:26:08][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 10:26:08][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 10:26:08][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 10:26:08][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 10:26:08][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 10:26:08][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 10:26:08][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 10:26:08][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 10:26:08][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 10:26:08][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4785ã€‚
[INFO][2025-03-20 10:26:08][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 10:26:08][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 10:26:08][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 10:26:08][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 10:26:08][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 10:26:08][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 10:26:08][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 10:26:08][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 10:26:08][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 10:26:08][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 10:26:08][hello.py:37] - [Hello] inited
[INFO][2025-03-20 10:26:08][finish.py:21] - [Finish] inited
[INFO][2025-03-20 10:26:08][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 10:26:08][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 10:26:11][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 10:26:11][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 10:26:20][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1686011782,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"1847\\" length=\\"2742\\" bufid=\\"0\\" aeskey=\\"4ac5a1c896738d5b6c40d86ab79269e6\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f77f7020476e22e70020467db7ccc042434613938386236342d383634612d343862362d626338382d32353734656433383639386102040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"416561343266653638356634383537001710260320253815084265b101\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":2742,"buffer":"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"},"CreateTime":1742437580,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_6+yK4IX0|v1_Sj8pa3jC</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":4556627046961615060,"MsgSeq":857737373},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 10:26:21][chat_channel.py:484] - [chat_channel] consume context: Context(type=VOICE, content=tmp/voice_7c609142-9a89-4478-9037-02be87008614.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x00000289E737B1F0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:26:21][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=tmp/voice_7c609142-9a89-4478-9037-02be87008614.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x00000289E737B1F0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:26:21][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:26:21][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:26:21][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:26:21][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:26:21][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=tmp/voice_7c609142-9a89-4478-9037-02be87008614.silk
[INFO][2025-03-20 10:26:21][bridge.py:73] - create bot xunfei for voice_to_text
[DEBUG][2025-03-20 10:26:21][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_7c609142-9a89-4478-9037-02be87008614.wav
[INFO][2025-03-20 10:26:37][xunfei_voice.py:68] - è®¯é£è¯­éŸ³è¯†åˆ«åˆ°äº†: 
[DEBUG][2025-03-20 10:26:37][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:26:37][godcmd.py:217] - [Godcmd] on_handle_context. content: 
[DEBUG][2025-03-20 10:26:37][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:26:37][keyword.py:53] - [keyword] on_handle_context. content: 
[DEBUG][2025-03-20 10:26:37][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:26:37][hello.py:96] - [Hello] on_handle_context. content: 
[DEBUG][2025-03-20 10:26:37][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:26:37][finish.py:28] - [Finish] on_handle_context. content: 
[DEBUG][2025-03-20 10:26:37][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=
[INFO][2025-03-20 10:26:37][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 10:26:37][bytedance_coze_bot.py:41] - [COZE] query=
[DEBUG][2025-03-20 10:26:37][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 10:26:37][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x00000289E848B100> query=
[DEBUG][2025-03-20 10:29:28][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 10:29:28][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 10:29:28][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]}}
[DEBUG][2025-03-20 10:29:28][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 10:29:28][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 10:29:28][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 10:29:28][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 10:29:28][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 10:29:28][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 10:29:28][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 10:29:28][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 10:29:28][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 10:29:28][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 10:29:28][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º3725ã€‚
[INFO][2025-03-20 10:29:28][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 10:29:28][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 10:29:28][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 10:29:28][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 10:29:28][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 10:29:28][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 10:29:28][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 10:29:28][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 10:29:28][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 10:29:28][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 10:29:28][hello.py:37] - [Hello] inited
[INFO][2025-03-20 10:29:28][finish.py:21] - [Finish] inited
[INFO][2025-03-20 10:29:28][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 10:29:28][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 10:29:31][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 10:29:31][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 10:29:34][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1750580361,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"1605\\" length=\\"2227\\" bufid=\\"0\\" aeskey=\\"655a407ec0173ae6def1d260ba44522d\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f77f7020476e22e70020467db7d8e042434393535303038332d326162632d346233632d396236342d31666233313030666564333102040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"4165613432666536383566343835370031102903202538150841c7a102\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":2227,"buffer":"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"},"CreateTime":1742437774,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_mXevUp6X|v1_uUaq3yfw</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":4606806347987473328,"MsgSeq":857737374},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 10:29:34][chat_channel.py:485] - [chat_channel] consume context: Context(type=VOICE, content=tmp/voice_c9d632e0-5f53-4175-9063-185351809f63.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001C47C1CB1F0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:29:34][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=tmp/voice_c9d632e0-5f53-4175-9063-185351809f63.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001C47C1CB1F0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:29:34][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:29:34][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:29:34][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:29:34][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:29:34][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=tmp/voice_c9d632e0-5f53-4175-9063-185351809f63.silk
[INFO][2025-03-20 10:29:34][bridge.py:73] - create bot xunfei for voice_to_text
[DEBUG][2025-03-20 10:29:34][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_c9d632e0-5f53-4175-9063-185351809f63.wav
[DEBUG][2025-03-20 10:38:06][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 10:38:06][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 10:38:06][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]}}
[DEBUG][2025-03-20 10:38:06][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 10:38:06][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 10:38:06][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 10:38:06][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 10:38:06][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 10:38:06][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 10:38:06][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 10:38:06][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 10:38:06][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 10:38:06][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 10:38:06][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1847ã€‚
[INFO][2025-03-20 10:38:06][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 10:38:06][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 10:38:06][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 10:38:06][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 10:38:06][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 10:38:06][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 10:38:06][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 10:38:06][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 10:38:06][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 10:38:06][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 10:38:06][hello.py:37] - [Hello] inited
[INFO][2025-03-20 10:38:06][finish.py:21] - [Finish] inited
[INFO][2025-03-20 10:38:06][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 10:38:06][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 10:38:09][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 10:38:09][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 10:38:25][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":245109819,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"2948\\" length=\\"4422\\" bufid=\\"0\\" aeskey=\\"11cfa7dccf60c387f74032756c093d7e\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f77f7020476e22e70020467db7fa1042438643832396233382d323934352d343935392d613432322d33653163383135323464393902040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"416561343266653638356634383537002110380320253815084319e104\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":4422,"buffer":"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"},"CreateTime":1742438305,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_CzjYxNgm|v1_pr0WwL3V</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":7197628096318432695,"MsgSeq":857737375},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 10:38:26][chat_channel.py:485] - [chat_channel] consume context: Context(type=VOICE, content=tmp/voice_86b19948-99d5-4771-9936-aeedcdd51fcf.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001F8F99BAC80>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:38:26][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=tmp/voice_86b19948-99d5-4771-9936-aeedcdd51fcf.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001F8F99BAC80>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 10:38:26][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:38:26][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:38:26][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:38:26][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 10:38:26][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=tmp/voice_86b19948-99d5-4771-9936-aeedcdd51fcf.silk
[INFO][2025-03-20 10:38:26][bridge.py:73] - create bot xunfei for voice_to_text
[DEBUG][2025-03-20 10:38:26][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_86b19948-99d5-4771-9936-aeedcdd51fcf.wav
[DEBUG][2025-03-20 11:28:47][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 11:28:47][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 11:28:47][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]}}
[DEBUG][2025-03-20 11:28:56][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 11:28:56][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 11:28:56][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}]}}
[DEBUG][2025-03-20 11:28:57][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 11:28:57][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 11:28:57][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 11:28:57][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 11:28:57][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 11:28:57][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 11:28:57][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 11:28:57][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 11:28:57][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 11:28:57][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 11:28:57][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4610ã€‚
[INFO][2025-03-20 11:28:57][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 11:28:57][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 11:28:57][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 11:28:57][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 11:28:57][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 11:28:57][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 11:28:57][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 11:28:57][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 11:28:57][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 11:28:57][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 11:28:57][hello.py:37] - [Hello] inited
[INFO][2025-03-20 11:28:57][finish.py:21] - [Finish] inited
[INFO][2025-03-20 11:28:57][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 11:28:57][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 11:29:00][gewechat_channel.py:232] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 11:29:00][gewechat_channel.py:237] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 11:29:10][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":731041315,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"2354\\" length=\\"3629\\" bufid=\\"0\\" aeskey=\\"072cfb5c0354da7f6652034baa2dee41\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f5149020425328e71020467db8b86042436393435366165662d653165372d346466662d623037322d66623334326532363530646202040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"416561343266653638356634383537000711290320253815084ac40100\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":3629,"buffer":"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"},"CreateTime":1742441350,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_N/IH0gXb|v1_sNE9qTtD</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":1923821005207903396,"MsgSeq":857737377},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 11:29:11][chat_channel.py:484] - [chat_channel] consume context: Context(type=VOICE, content=tmp/voice_dbe202fc-2888-4f65-bdc3-2cb3585532c3.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD7010AD40>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 11:29:11][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=tmp/voice_dbe202fc-2888-4f65-bdc3-2cb3585532c3.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD7010AD40>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 11:29:11][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:29:11][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:29:11][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:29:11][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:29:11][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=tmp/voice_dbe202fc-2888-4f65-bdc3-2cb3585532c3.silk
[INFO][2025-03-20 11:29:11][bridge.py:73] - create bot xunfei for voice_to_text
[DEBUG][2025-03-20 11:29:11][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_dbe202fc-2888-4f65-bdc3-2cb3585532c3.wav
[INFO][2025-03-20 11:29:12][xunfei_voice.py:68] - è®¯é£è¯­éŸ³è¯†åˆ«åˆ°äº†:  Helloå…„å¼Ÿåœ¨å—ï¼Ÿ
[DEBUG][2025-03-20 11:29:12][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:29:12][godcmd.py:217] - [Godcmd] on_handle_context. content: Helloå…„å¼Ÿåœ¨å—ï¼Ÿ
[DEBUG][2025-03-20 11:29:12][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:29:12][keyword.py:53] - [keyword] on_handle_context. content: Helloå…„å¼Ÿåœ¨å—ï¼Ÿ
[DEBUG][2025-03-20 11:29:12][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:29:12][hello.py:96] - [Hello] on_handle_context. content: Helloå…„å¼Ÿåœ¨å—ï¼Ÿ
[DEBUG][2025-03-20 11:29:12][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:29:12][finish.py:28] - [Finish] on_handle_context. content: Helloå…„å¼Ÿåœ¨å—ï¼Ÿ
[DEBUG][2025-03-20 11:29:12][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=Helloå…„å¼Ÿåœ¨å—ï¼Ÿ
[INFO][2025-03-20 11:29:12][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 11:29:13][bytedance_coze_bot.py:41] - [COZE] query=Helloå…„å¼Ÿåœ¨å—ï¼Ÿ
[DEBUG][2025-03-20 11:29:13][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 11:29:13][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001DD71223400> query=Helloå…„å¼Ÿåœ¨å—ï¼Ÿ
[DEBUG][2025-03-20 11:29:32][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€)
[DEBUG][2025-03-20 11:29:32][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€), context: Context(type=VOICE, content=tmp/voice_dbe202fc-2888-4f65-bdc3-2cb3585532c3.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD7010AD40>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[INFO][2025-03-20 11:29:43][gewechat_channel.py:144] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€
[DEBUG][2025-03-20 11:29:43][chat_channel.py:410] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 11:30:19][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":188344416,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"3155\\" length=\\"5010\\" bufid=\\"0\\" aeskey=\\"a2715039008649750cfa68f98b598276\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f5149020425328e71020467db8bcb042433663931613633652d643632332d343064622d393532372d31343034303432666533366302040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"416561343266653638356634383537001411300320253815084b3f1103\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":5010,"buffer":"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"},"CreateTime":1742441419,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_WLRjEmZL|v1_t3FqTNNU</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":4032294869163021361,"MsgSeq":857737379},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 11:30:19][chat_channel.py:484] - [chat_channel] consume context: Context(type=VOICE, content=tmp/voice_0c724874-0fdb-4766-ba52-fa2e69e8d394.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD717EA6B0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 11:30:19][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=tmp/voice_0c724874-0fdb-4766-ba52-fa2e69e8d394.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD717EA6B0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 11:30:19][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:30:19][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:30:19][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:30:19][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:30:19][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=tmp/voice_0c724874-0fdb-4766-ba52-fa2e69e8d394.silk
[DEBUG][2025-03-20 11:30:19][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_0c724874-0fdb-4766-ba52-fa2e69e8d394.wav
[INFO][2025-03-20 11:30:21][xunfei_voice.py:68] - è®¯é£è¯­éŸ³è¯†åˆ«åˆ°äº†: ä½ å¥½ï¼Œä½ å¥½ï¼Œæ²¡æœ‰æƒ³è·Ÿä½ èŠä¼šå„¿å¤©ã€‚
[DEBUG][2025-03-20 11:30:21][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:30:21][godcmd.py:217] - [Godcmd] on_handle_context. content: ä½ å¥½ï¼Œä½ å¥½ï¼Œæ²¡æœ‰æƒ³è·Ÿä½ èŠä¼šå„¿å¤©ã€‚
[DEBUG][2025-03-20 11:30:21][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:30:21][keyword.py:53] - [keyword] on_handle_context. content: ä½ å¥½ï¼Œä½ å¥½ï¼Œæ²¡æœ‰æƒ³è·Ÿä½ èŠä¼šå„¿å¤©ã€‚
[DEBUG][2025-03-20 11:30:21][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:30:21][hello.py:96] - [Hello] on_handle_context. content: ä½ å¥½ï¼Œä½ å¥½ï¼Œæ²¡æœ‰æƒ³è·Ÿä½ èŠä¼šå„¿å¤©ã€‚
[DEBUG][2025-03-20 11:30:21][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:30:21][finish.py:28] - [Finish] on_handle_context. content: ä½ å¥½ï¼Œä½ å¥½ï¼Œæ²¡æœ‰æƒ³è·Ÿä½ èŠä¼šå„¿å¤©ã€‚
[DEBUG][2025-03-20 11:30:21][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=ä½ å¥½ï¼Œä½ å¥½ï¼Œæ²¡æœ‰æƒ³è·Ÿä½ èŠä¼šå„¿å¤©ã€‚
[INFO][2025-03-20 11:30:21][bytedance_coze_bot.py:41] - [COZE] query=ä½ å¥½ï¼Œä½ å¥½ï¼Œæ²¡æœ‰æƒ³è·Ÿä½ èŠä¼šå„¿å¤©ã€‚
[DEBUG][2025-03-20 11:30:21][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 11:30:21][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001DD71223400> query=ä½ å¥½ï¼Œä½ å¥½ï¼Œæ²¡æœ‰æƒ³è·Ÿä½ èŠä¼šå„¿å¤©ã€‚
[DEBUG][2025-03-20 11:30:42][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€)
[DEBUG][2025-03-20 11:30:42][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€), context: Context(type=VOICE, content=tmp/voice_0c724874-0fdb-4766-ba52-fa2e69e8d394.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD717EA6B0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[INFO][2025-03-20 11:30:53][gewechat_channel.py:144] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€
[DEBUG][2025-03-20 11:30:53][chat_channel.py:410] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 11:37:59][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":246203460,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe7\xbe\x8e\xe9\xa3\x9f\xef\xbc\x8c\xe4\xbd\xa0\xe6\x9c\x89\xe5\x95\xa5\xe5\xa5\xbd\xe5\x90\x83\xe7\x9a\x84\xe5\x90\x97\xef\xbc\x9f\xe6\x98\xa8\xe5\xa4\xa9\xe6\x88\x91\xe5\x90\x83\xe9\xa5\xad\xe5\x90\x83\xe5\x88\xb0\xe4\xb8\x80\xe4\xb8\xaa\xe9\xa3\x8e\xe5\x91\xb3\xe8\x8c\x84\xe5\xad\x90\xef\xbc\x8c\xe5\xa4\x96\xe9\x9d\xa2\xe8\x84\x86\xe8\x84\x86\xe7\x9a\x84\xef\xbc\x8c\xe7\x84\xb6\xe5\x90\x8e\xe9\x87\x8c\xe9\x9d\xa2\xe8\xbd\xaf\xe8\xbd\xaf\xe7\x9a\x84\xef\xbc\x8c\xe6\x84\x9f\xe8\xa7\x89\xe7\x89\xb9\xe5\x88\xab\xe5\xa5\xbd\xe5\x90\x83\xef\xbc\x8c\xe5\xb0\xb1\xe6\x98\xaf\xe4\xb8\x8d\xe7\x9f\xa5\xe9\x81\x93\xe6\x80\x8e\xe4\xb9\x88\xe5\x81\x9a"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742441879,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_DRS5nQfC|v1_iNjMFHcV</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe7\xbe\x8e\xe9\xa3\x9f\xef\xbc\x8c\xe4\xbd\xa0\xe6\x9c\x89\xe5\x95\xa5\xe5\xa5\xbd\xe5\x90\x83\xe7\x9a\x84\xe5\x90\x97\xef\xbc\x9f\xe6\x98\xa8\xe5\xa4\xa9\xe6\x88\x91\xe5\x90\x83\xe9\xa5\xad\xe5\x90\x83\xe5\x88\xb0\xe4\xb8\x80\xe4\xb8\xaa\xe9\xa3\x8e\xe5\x91\xb3\xe8\x8c\x84\xe5\xad\x90\xef\xbc\x8c\xe5\xa4\x96\xe9\x9d\xa2\xe8\x84\x86\xe8\x84\x86\xe7\x9a\x84...","NewMsgId":4175579446980907520,"MsgSeq":857737381},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 11:38:00][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 11:38:00][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 11:38:07][chat_channel.py:484] - [chat_channel] consume context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD717D2B00>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 11:38:07][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD717D2B00>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 11:38:07][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:38:07][godcmd.py:217] - [Godcmd] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}]
[DEBUG][2025-03-20 11:38:07][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:38:07][keyword.py:53] - [keyword] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}]
[DEBUG][2025-03-20 11:38:07][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:38:07][hello.py:96] - [Hello] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}]
[DEBUG][2025-03-20 11:38:07][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:38:07][finish.py:28] - [Finish] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}]
[DEBUG][2025-03-20 11:38:07][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}]
[INFO][2025-03-20 11:38:07][bytedance_coze_bot.py:41] - [COZE] query=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}]
[DEBUG][2025-03-20 11:38:07][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 11:38:07][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001DD71223400> query=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}]
[DEBUG][2025-03-20 11:38:44][bytedance_coze_bot.py:119] - [COZE] reply=Reply(type=TEXT, content=ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© 

è¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€)
[INFO][2025-03-20 11:38:44][gewechat_channel.py:144] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© 

è¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€
[DEBUG][2025-03-20 11:41:11][bytedance_coze_bot.py:200] - [WX] download image success, size=494654, img_url=https://www.helloimg.com/i/2025/03/18/67d9489e90c24.gif
[DEBUG][2025-03-20 11:41:11][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=IMAGE, content=<_io.BytesIO object at 0x000001DD71778720>)
[DEBUG][2025-03-20 11:41:11][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=IMAGE, content=<_io.BytesIO object at 0x000001DD71778720>), context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD717D2B00>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22', 'channel': <channel.gewechat.gewechat_channel.GeWeChatChannel object at 0x000001DD6BC60580>})
[INFO][2025-03-20 11:41:12][gewechat_channel.py:178] - [gewechat] sendImage, receiver=wxid_j9m9a65vqqvc22, url=http://192.168.31.235:9919/v2/api/callback/collect?file=tmp/img_a021a78e-6e58-4223-8453-bacc6d315a10.png
[DEBUG][2025-03-20 11:41:12][chat_channel.py:410] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 11:42:14][gewechat_channel.py:232] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":105512829,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe6\xb2\xa1\xe6\x9c\x89\xef\xbc\x8c\xe5\xb0\xb1\xe6\x98\xaf\xe8\xb7\x9f\xe4\xbd\xa0\xe9\x97\xb2\xe8\x81\x8a\xef\xbc\x8c\xe4\xbd\x86\xe6\x98\xaf\xe6\x88\x91\xe7\x9c\x8b\xe5\x88\xab\xe4\xba\xba\xe7\x9a\x84\xe8\xbf\x99\xe4\xb8\xaa\xe9\x83\xbd\xe5\xbc\x84\xe7\x9a\x84\xe8\x84\x86\xe8\x84\x86\xe7\x9a\x84\xef\xbc\x8c\xe4\xbd\xa0\xe7\x9a\x84\xe6\xad\xa5\xe9\xaa\xa4\xe7\x9c\x8b\xe8\xb5\xb7\xe6\x9d\xa5\xe6\xb2\xa1\xe6\x9c\x89\xe8\xa3\xb9\xe6\xb7\x80\xe7\xb2\x89\xe7\x9a\x84\xe6\xad\xa5\xe9\xaa\xa4\xe5\x91\x80\xef\xbc\x9f"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742442134,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_Ci0Zlbqo|v1_jhR8UfUw</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe6\xb2\xa1\xe6\x9c\x89\xef\xbc\x8c\xe5\xb0\xb1\xe6\x98\xaf\xe8\xb7\x9f\xe4\xbd\xa0\xe9\x97\xb2\xe8\x81\x8a\xef\xbc\x8c\xe4\xbd\x86\xe6\x98\xaf\xe6\x88\x91\xe7\x9c\x8b\xe5\x88\xab\xe4\xba\xba\xe7\x9a\x84\xe8\xbf\x99\xe4\xb8\xaa\xe9\x83\xbd\xe5\xbc\x84\xe7\x9a\x84\xe8\x84\x86\xe8\x84\x86\xe7\x9a\x84\xef\xbc\x8c\xe4\xbd\xa0\xe7\x9a\x84\xe6\xad\xa5\xe9\xaa\xa4...","NewMsgId":3380287245796157910,"MsgSeq":857737383},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 11:42:15][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 11:42:15][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 11:42:22][chat_channel.py:484] - [chat_channel] consume context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD717E8880>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 11:42:22][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD717E8880>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 11:42:22][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:42:22][godcmd.py:217] - [Godcmd] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]
[DEBUG][2025-03-20 11:42:22][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:42:22][keyword.py:53] - [keyword] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]
[DEBUG][2025-03-20 11:42:22][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:42:22][hello.py:96] - [Hello] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]
[DEBUG][2025-03-20 11:42:22][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:42:22][finish.py:28] - [Finish] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]
[DEBUG][2025-03-20 11:42:22][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]
[INFO][2025-03-20 11:42:22][bytedance_coze_bot.py:41] - [COZE] query=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]
[DEBUG][2025-03-20 11:42:22][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 11:42:22][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001DD71223400> query=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]
[DEBUG][2025-03-20 11:42:49][bytedance_coze_bot.py:119] - [COZE] reply=Reply(type=TEXT, content=ã€Œå’¦~æ„Ÿè§‰ä½ åƒæ˜¯è¦å¤§å±•å¨è‰ºåšé£å‘³èŒ„å­å‘¢ğŸ˜† ä¸è¿‡æˆ‘æœ‰ç‚¹å°å¥½å¥‡ï¼Œä½ çªç„¶é—®è¿™ä¸ªï¼Œå’Œæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶æ²¡ä»€ä¹ˆå…³ç³»å§ğŸ¤” è¯è¯´å›æ¥ï¼Œé£å‘³èŒ„å­è£¹æ·€ç²‰ä¸€èˆ¬æ˜¯è¿™æ ·~å…ˆæŠŠèŒ„å­æ´—å‡€åˆ‡æ¡ï¼Œæ”¾åˆ°æ¸…æ°´é‡Œæµ¸æ³¡ä¸€ä¼šå„¿é˜²æ­¢æ°§åŒ–ã€‚ç„¶åæå‡ºèŒ„å­ï¼ŒæŠŠæ°´æ§å¹²æˆ–è€…ç”¨å¨æˆ¿çº¸å¸å¹²æ°´åˆ†ã€‚æ¥ç€æŠŠæ·€ç²‰å‡åŒ€åœ°æ’’åœ¨èŒ„å­ä¸Šï¼Œç”¨æ‰‹è½»è½»æŠ“åŒ€ï¼Œè®©æ¯ä¸€æ ¹èŒ„å­éƒ½è£¹æ»¡æ·€ç²‰å°±å¥½å•¦~æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯ä¸ç®—å¤ªå¤æ‚ğŸ§ã€)
[INFO][2025-03-20 11:43:40][gewechat_channel.py:144] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œå’¦~æ„Ÿè§‰ä½ åƒæ˜¯è¦å¤§å±•å¨è‰ºåšé£å‘³èŒ„å­å‘¢ğŸ˜† ä¸è¿‡æˆ‘æœ‰ç‚¹å°å¥½å¥‡ï¼Œä½ çªç„¶é—®è¿™ä¸ªï¼Œå’Œæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶æ²¡ä»€ä¹ˆå…³ç³»å§ğŸ¤” è¯è¯´å›æ¥ï¼Œé£å‘³èŒ„å­è£¹æ·€ç²‰ä¸€èˆ¬æ˜¯è¿™æ ·~å…ˆæŠŠèŒ„å­æ´—å‡€åˆ‡æ¡ï¼Œæ”¾åˆ°æ¸…æ°´é‡Œæµ¸æ³¡ä¸€ä¼šå„¿é˜²æ­¢æ°§åŒ–ã€‚ç„¶åæå‡ºèŒ„å­ï¼ŒæŠŠæ°´æ§å¹²æˆ–è€…ç”¨å¨æˆ¿çº¸å¸å¹²æ°´åˆ†ã€‚æ¥ç€æŠŠæ·€ç²‰å‡åŒ€åœ°æ’’åœ¨èŒ„å­ä¸Šï¼Œç”¨æ‰‹è½»è½»æŠ“åŒ€ï¼Œè®©æ¯ä¸€æ ¹èŒ„å­éƒ½è£¹æ»¡æ·€ç²‰å°±å¥½å•¦~æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯ä¸ç®—å¤ªå¤æ‚ğŸ§ã€
[DEBUG][2025-03-20 11:43:41][bytedance_coze_bot.py:200] - [WX] download image success, size=494654, img_url=https://www.helloimg.com/i/2025/03/18/67d9489e90c24.gif
[DEBUG][2025-03-20 11:43:41][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=IMAGE, content=<_io.BytesIO object at 0x000001DD71779120>)
[DEBUG][2025-03-20 11:43:41][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=IMAGE, content=<_io.BytesIO object at 0x000001DD71779120>), context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001DD717E8880>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22', 'channel': <channel.gewechat.gewechat_channel.GeWeChatChannel object at 0x000001DD6BC60580>})
[INFO][2025-03-20 11:43:42][gewechat_channel.py:178] - [gewechat] sendImage, receiver=wxid_j9m9a65vqqvc22, url=http://192.168.31.235:9919/v2/api/callback/collect?file=tmp/img_6a49c472-7d39-483e-8064-9e96e9e6e66c.png
[DEBUG][2025-03-20 11:43:42][chat_channel.py:410] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 11:58:27][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 11:58:27][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 11:58:27][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]}}
[DEBUG][2025-03-20 11:58:36][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 11:58:36][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 11:58:36][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]}}
[DEBUG][2025-03-20 11:58:36][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 11:58:36][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 11:58:36][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 11:58:36][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 11:58:36][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 11:58:36][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 11:58:36][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 11:58:36][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 11:58:36][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 11:58:36][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 11:58:36][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º8063ã€‚
[INFO][2025-03-20 11:58:36][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 11:58:36][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 11:58:36][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 11:58:36][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 11:58:36][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 11:58:36][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 11:58:36][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 11:58:36][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 11:58:36][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 11:58:36][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 11:58:36][hello.py:37] - [Hello] inited
[INFO][2025-03-20 11:58:36][finish.py:21] - [Finish] inited
[INFO][2025-03-20 11:58:36][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 11:58:36][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 11:58:39][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 11:58:39][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 11:59:13][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":2128910845,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"1636\\" length=\\"2347\\" bufid=\\"0\\" aeskey=\\"e51e700f4831e1a08294fb44700c2e85\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f514902041b328e71020467db9291042462333234613162312d336361652d343637632d386439392d62646235316664336430343902040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"4165613432666536383566343835370009115903202538150842d1d103\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":2347,"buffer":"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"},"CreateTime":1742443153,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_q+aHevGP|v1_zvissVyK</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":1055680626226253556,"MsgSeq":857737387},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 11:59:13][chat_channel.py:487] - [chat_channel] consume context: Context(type=VOICE, content=tmp/voice_841ae5a0-0455-4c73-b08d-b094f754b33c.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000020122706380>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 11:59:13][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=tmp/voice_841ae5a0-0455-4c73-b08d-b094f754b33c.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000020122706380>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 11:59:13][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:59:13][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:59:13][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:59:13][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:59:13][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=tmp/voice_841ae5a0-0455-4c73-b08d-b094f754b33c.silk
[INFO][2025-03-20 11:59:13][bridge.py:73] - create bot xunfei for voice_to_text
[DEBUG][2025-03-20 11:59:13][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_841ae5a0-0455-4c73-b08d-b094f754b33c.wav
[INFO][2025-03-20 11:59:14][xunfei_voice.py:68] - è®¯é£è¯­éŸ³è¯†åˆ«åˆ°äº†: è¿™ä¹ˆè¯´å§ã€‚
[DEBUG][2025-03-20 11:59:14][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:59:14][godcmd.py:217] - [Godcmd] on_handle_context. content: è¿™ä¹ˆè¯´å§ã€‚
[DEBUG][2025-03-20 11:59:14][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:59:14][keyword.py:53] - [keyword] on_handle_context. content: è¿™ä¹ˆè¯´å§ã€‚
[DEBUG][2025-03-20 11:59:14][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:59:14][hello.py:96] - [Hello] on_handle_context. content: è¿™ä¹ˆè¯´å§ã€‚
[DEBUG][2025-03-20 11:59:14][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 11:59:14][finish.py:28] - [Finish] on_handle_context. content: è¿™ä¹ˆè¯´å§ã€‚
[DEBUG][2025-03-20 11:59:14][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=è¿™ä¹ˆè¯´å§ã€‚
[INFO][2025-03-20 11:59:14][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 11:59:15][bytedance_coze_bot.py:41] - [COZE] query=è¿™ä¹ˆè¯´å§ã€‚
[DEBUG][2025-03-20 11:59:15][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 11:59:15][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000002012381F400> query=è¿™ä¹ˆè¯´å§ã€‚
[DEBUG][2025-03-20 11:59:31][bytedance_coze_bot.py:119] - [COZE] reply=Reply(type=TEXT, content=ã€Œæˆ‘æœ‰ç‚¹æ²¡å¤ªæ‡‚ä½ è¯´çš„â€œè¿™ä¹ˆè¯´å§â€æ˜¯ä»€ä¹ˆæ„æ€å‘€ğŸ¤” èƒ½ä¸èƒ½å±•å¼€è¯´è¯´ï¼Œè®©æˆ‘è·Ÿä¸Šä½ çš„æ€è·¯~ã€)
[INFO][2025-03-20 11:59:32][gewechat_channel.py:143] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œæˆ‘æœ‰ç‚¹æ²¡å¤ªæ‡‚ä½ è¯´çš„â€œè¿™ä¹ˆè¯´å§â€æ˜¯ä»€ä¹ˆæ„æ€å‘€ğŸ¤” èƒ½ä¸èƒ½å±•å¼€è¯´è¯´ï¼Œè®©æˆ‘è·Ÿä¸Šä½ çš„æ€è·¯~ã€
[DEBUG][2025-03-20 11:59:52][bytedance_coze_bot.py:200] - [WX] download image success, size=57970, img_url=https://www.helloimg.com/i/2025/03/18/67d9489bea2ed.jpg
[DEBUG][2025-03-20 11:59:52][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=IMAGE, content=<_io.BytesIO object at 0x0000020123B40E00>)
[DEBUG][2025-03-20 11:59:52][chat_channel.py:365] - [chat_channel] ready to send reply: Reply(type=IMAGE, content=<_io.BytesIO object at 0x0000020123B40E00>), context: Context(type=VOICE, content=tmp/voice_841ae5a0-0455-4c73-b08d-b094f754b33c.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000020122706380>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[INFO][2025-03-20 11:59:53][gewechat_channel.py:177] - [gewechat] sendImage, receiver=wxid_j9m9a65vqqvc22, url=http://192.168.31.235:9919/v2/api/callback/collect?file=tmp/img_f2dd5fec-668e-490a-8070-562c77acdaa0.png
[DEBUG][2025-03-20 11:59:53][chat_channel.py:413] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 12:04:21][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":2029119221,"FromUserName":{"string":"wxid_7im0hocoravz22"},"ToUserName":{"string":"wxid_j9m9a65vqqvc22"},"MsgType":51,"Content":{"string":"<msg>\\n<op id=\'2\'>\\n<username>wxid_j9m9a65vqqvc22</username>\\n<name>lastMessage</name>\\n<arg>{\\"messageSvrId\\":\\"3569545143521299780\\",\\"MsgCreateTime\\":\\"1742443194000\\"}</arg>\\n</op>\\n</msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742443461,"MsgSource":"<msgsource>\\n\\t<signature>v1_5UUlE5W9</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","NewMsgId":7631927445548335925,"MsgSeq":857737390},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 12:04:21][gewechat_channel.py:243] - [gewechat] ignore status sync message: <msg>
<op id='2'>
<username>wxid_j9m9a65vqqvc22</username>
<name>lastMessage</name>
<arg>{"messageSvrId":"3569545143521299780","MsgCreateTime":"1742443194000"}</arg>
</op>
</msg>
[DEBUG][2025-03-20 12:29:21][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 12:29:21][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 12:29:21][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]}}
[DEBUG][2025-03-20 12:29:31][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 12:29:31][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 12:29:31][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}]}}
[DEBUG][2025-03-20 12:29:31][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 12:29:31][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 12:29:31][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 12:29:31][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 12:29:31][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 12:29:31][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 12:29:31][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 12:29:31][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 12:29:31][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 12:29:31][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 12:29:31][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º0596ã€‚
[INFO][2025-03-20 12:29:31][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 12:29:31][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 12:29:31][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 12:29:31][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 12:29:31][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 12:29:31][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 12:29:31][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 12:29:31][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 12:29:31][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 12:29:31][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 12:29:31][hello.py:37] - [Hello] inited
[INFO][2025-03-20 12:29:31][finish.py:21] - [Finish] inited
[INFO][2025-03-20 12:29:31][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 12:29:31][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 12:29:34][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 12:29:34][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 12:29:43][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1537228104,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"2095\\" length=\\"3182\\" bufid=\\"0\\" aeskey=\\"5bde2a05519b7879da9ac31ea19c0bf7\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f51490204e1312275020467db99b7042435313335313433352d306433302d343135652d613063622d30626436666439323232643002040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"41656134326665363835663438353700391229032025381508418d2102\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":3182,"buffer":"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"},"CreateTime":1742444983,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_Vk/slpZu|v1_FIX/AP6M</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":5068821475421862565,"MsgSeq":857737391},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 12:29:43][bridge.py:73] - create bot xunfei for voice_to_text
[DEBUG][2025-03-20 12:29:43][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_503eb8ad-f1ed-42a6-994d-ad66c8700686.wav
[INFO][2025-03-20 12:29:44][xunfei_voice.py:68] - è®¯é£è¯­éŸ³è¯†åˆ«åˆ°äº†: æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚
[INFO][2025-03-20 12:29:45][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 12:29:45][chat_channel.py:488] - [chat_channel] consume context: Context(type=VOICE, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001B7862AB250>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 12:29:45][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001B7862AB250>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 12:29:45][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:29:45][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:29:45][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:29:45][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:29:45][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚'}]
[INFO][2025-03-20 12:29:45][bridge.py:73] - create bot coze for chat
[DEBUG][2025-03-20 12:29:45][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=Botä¸æ”¯æŒå¤„ç†VOICEç±»å‹çš„æ¶ˆæ¯)
[DEBUG][2025-03-20 12:29:45][chat_channel.py:366] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
Botä¸æ”¯æŒå¤„ç†VOICEç±»å‹çš„æ¶ˆæ¯), context: Context(type=VOICE, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001B7862AB250>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[INFO][2025-03-20 12:29:45][gewechat_channel.py:143] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: [ERROR]
Botä¸æ”¯æŒå¤„ç†VOICEç±»å‹çš„æ¶ˆæ¯
[DEBUG][2025-03-20 12:29:45][chat_channel.py:414] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 12:37:50][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 12:37:50][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 12:37:50][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚'}]}}
[DEBUG][2025-03-20 12:38:07][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 12:38:07][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 12:38:07][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚'}]}}
[DEBUG][2025-03-20 12:38:07][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 12:38:07][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 12:38:07][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 12:38:07][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 12:38:07][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 12:38:07][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 12:38:07][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 12:38:07][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 12:38:07][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 12:38:07][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 12:38:07][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º8540ã€‚
[INFO][2025-03-20 12:38:07][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 12:38:07][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 12:38:07][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 12:38:07][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 12:38:07][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 12:38:07][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 12:38:07][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 12:38:07][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 12:38:07][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 12:38:07][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 12:38:07][hello.py:37] - [Hello] inited
[INFO][2025-03-20 12:38:07][finish.py:21] - [Finish] inited
[INFO][2025-03-20 12:38:07][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 12:38:07][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 12:38:10][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 12:38:10][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 12:38:20][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":238275548,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"1484\\" length=\\"2026\\" bufid=\\"0\\" aeskey=\\"ad21049c092aa629215bebcebf168cc4\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f51490204e1312275020467db9bbc042437343133623131322d353639642d346263622d386536662d61643932306162366264643402040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"4165613432666536383566343835370017123803202538150840086106\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":2026,"buffer":"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"},"CreateTime":1742445500,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_yU2TdrAp|v1_55cAvVCt</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":1342435679402057712,"MsgSeq":857737392},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 12:38:21][chat_channel.py:486] - [chat_channel] consume context: Context(type=VOICE, content=tmp/voice_ea773042-05f5-4c72-a3d4-3f2f924d6d80.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000015B57389F00>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 12:38:21][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=tmp/voice_ea773042-05f5-4c72-a3d4-3f2f924d6d80.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000015B57389F00>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 12:38:21][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:38:21][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:38:21][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:38:21][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:38:21][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=tmp/voice_ea773042-05f5-4c72-a3d4-3f2f924d6d80.silk
[INFO][2025-03-20 12:38:21][bridge.py:73] - create bot xunfei for voice_to_text
[DEBUG][2025-03-20 12:38:21][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_ea773042-05f5-4c72-a3d4-3f2f924d6d80.wav
[INFO][2025-03-20 12:38:22][xunfei_voice.py:68] - è®¯é£è¯­éŸ³è¯†åˆ«åˆ°äº†: æ€ä¹ˆè¿™ä¹ˆã€‚
[DEBUG][2025-03-20 12:38:22][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:38:22][godcmd.py:217] - [Godcmd] on_handle_context. content: æ€ä¹ˆè¿™ä¹ˆã€‚
[DEBUG][2025-03-20 12:38:22][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:38:22][keyword.py:53] - [keyword] on_handle_context. content: æ€ä¹ˆè¿™ä¹ˆã€‚
[DEBUG][2025-03-20 12:38:22][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:38:22][hello.py:96] - [Hello] on_handle_context. content: æ€ä¹ˆè¿™ä¹ˆã€‚
[DEBUG][2025-03-20 12:38:22][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 12:38:22][finish.py:28] - [Finish] on_handle_context. content: æ€ä¹ˆè¿™ä¹ˆã€‚
[DEBUG][2025-03-20 12:38:22][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=æ€ä¹ˆè¿™ä¹ˆã€‚
[INFO][2025-03-20 12:38:22][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 12:38:22][bytedance_coze_bot.py:41] - [COZE] query=æ€ä¹ˆè¿™ä¹ˆã€‚
[DEBUG][2025-03-20 12:38:22][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 12:38:22][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x0000015B5849F400> query=æ€ä¹ˆè¿™ä¹ˆã€‚
[DEBUG][2025-03-20 12:38:43][bytedance_coze_bot.py:119] - [COZE] reply=Reply(type=TEXT, content=ã€Œå’¦~ä½ è¿™è¯æ²¡è¯´å®Œå‘¢ğŸ¤” æ€ä¹ˆè¿™ä¹ˆä»€ä¹ˆå‘€ï¼Ÿå¿«å’Œæˆ‘è¯´è¯´~ã€)
[INFO][2025-03-20 12:38:44][gewechat_channel.py:143] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œå’¦~ä½ è¿™è¯æ²¡è¯´å®Œå‘¢ğŸ¤” æ€ä¹ˆè¿™ä¹ˆä»€ä¹ˆå‘€ï¼Ÿå¿«å’Œæˆ‘è¯´è¯´~ã€
[DEBUG][2025-03-20 12:39:01][bytedance_coze_bot.py:200] - [WX] download image success, size=57970, img_url=https://www.helloimg.com/i/2025/03/18/67d9489bea2ed.jpg
[DEBUG][2025-03-20 12:39:01][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=IMAGE, content=<_io.BytesIO object at 0x0000015B589D3970>)
[DEBUG][2025-03-20 12:39:01][chat_channel.py:364] - [chat_channel] ready to send reply: Reply(type=IMAGE, content=<_io.BytesIO object at 0x0000015B589D3970>), context: Context(type=VOICE, content=tmp/voice_ea773042-05f5-4c72-a3d4-3f2f924d6d80.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x0000015B57389F00>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[INFO][2025-03-20 12:39:02][gewechat_channel.py:177] - [gewechat] sendImage, receiver=wxid_j9m9a65vqqvc22, url=http://192.168.31.235:9919/v2/api/callback/collect?file=tmp/img_034d0afd-6abb-467c-b034-aa4497534c19.png
[DEBUG][2025-03-20 12:39:02][chat_channel.py:412] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 13:06:36][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:06:36][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:06:36][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚'}]}}
[DEBUG][2025-03-20 13:07:13][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:07:13][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:07:13][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚'}]}}
[DEBUG][2025-03-20 13:07:13][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 13:07:13][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 13:07:13][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 13:07:13][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 13:07:13][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 13:07:13][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 13:07:13][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 13:07:13][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 13:07:13][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 13:07:13][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 13:07:13][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º6534ã€‚
[INFO][2025-03-20 13:07:13][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 13:07:13][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 13:07:13][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 13:07:13][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 13:07:13][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 13:07:13][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 13:07:13][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 13:07:13][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 13:07:13][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 13:07:13][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 13:07:13][hello.py:37] - [Hello] inited
[INFO][2025-03-20 13:07:13][finish.py:21] - [Finish] inited
[INFO][2025-03-20 13:07:13][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 13:07:13][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 13:07:16][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 13:07:16][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 13:07:18][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":415308023,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"1378\\" length=\\"1902\\" bufid=\\"0\\" aeskey=\\"5322ea0b9f53a7c6a1981eaf5212c8f3\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f51490204e4312275020467dba285042433336439653337332d346130612d343834382d386234352d31323161653436306663323302040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"4165613432666536383566343835370015130703202538150848451103\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":1902,"buffer":"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"},"CreateTime":1742447237,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_Sqf+H+my|v1_FnzNySfF</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":8662154478933204963,"MsgSeq":857737396},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 13:07:18][chat_channel.py:491] - [chat_channel] consume context: Context(type=VOICE, content=tmp/voice_980e367e-b624-4119-9017-d0d3a76b1447.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001A37F921ED0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 13:07:18][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=tmp/voice_980e367e-b624-4119-9017-d0d3a76b1447.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001A37F921ED0>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 13:07:18][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:07:18][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:07:18][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:07:18][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:07:18][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=tmp/voice_980e367e-b624-4119-9017-d0d3a76b1447.silk
[INFO][2025-03-20 13:07:18][bridge.py:73] - create bot xunfei for voice_to_text
[DEBUG][2025-03-20 13:07:18][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_980e367e-b624-4119-9017-d0d3a76b1447.wav
[INFO][2025-03-20 13:07:19][xunfei_voice.py:68] - è®¯é£è¯­éŸ³è¯†åˆ«åˆ°äº†:  Help me, help me.
[ERROR][2025-03-20 13:07:19][chat_channel.py:421] - Worker return exception: No module named 'gewechat'
Traceback (most recent call last):
  File "C:\Users\é¾™å´ç›ˆå­\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "D:\Program\WangLongAI-dev\channel\chat_channel.py", line 218, in _handle
    reply = self._generate_reply(context)  # replyçš„æ„å»ºæ­¥éª¤
  File "D:\Program\WangLongAI-dev\channel\chat_channel.py", line 275, in _generate_reply
    from gewechat.gewechat_message import GeWeChatMessage
ModuleNotFoundError: No module named 'gewechat'
[DEBUG][2025-03-20 13:07:51][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:07:51][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:07:51][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚'}]}}
[DEBUG][2025-03-20 13:08:03][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:08:03][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:08:03][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å‘é€è°¢è°¢çš„è¡¨æƒ…åŒ…ç»™æˆ‘'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ å®‰æ’ä¸ŠğŸ˜‰ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ²¡æœ‰å‘å‡ºæ¥è¯¶ï¼Œä½ é‡æ–°å‘ä¸‹'}, {'assistant': 'ã€Œå¥½å‘€~è¿™å°±ç»™ä½ ğŸ˜ã€'}, {'assistant': 'æˆ‘æœ‰ç‚¹å¥½å¥‡ ï¼Œä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘€ğŸ§'}, {'assistant': 'å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489c54f97.png'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¥½çš„å¥½çš„ï¼Œä¸ç”¨è°¢'}]}, 'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦åœ¨å—'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨ï¼æˆ‘åœ¨å‘¢~ä½•å…ˆç”Ÿï¼Œæ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ğŸ˜†ã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡äº‹å„¿ï¼Œæ‰¾ä½ èŠèŠå¤©'}, {'assistant': 'ã€Œåœ¨çš„åœ¨çš„~ä¸è¿‡æˆ‘å¯ä¸æ˜¯å…„å¼Ÿå“¦ï¼Œæˆ‘æ˜¯è¶…å¯çˆ±çš„å°é”¦å•¦ğŸ˜œ æ‰¾æˆ‘æœ‰ä»€ä¹ˆäº‹å‘€ï¼Ÿã€'}, {'assistant': 'ã€Œå¥½å‘€å¥½å‘€~è¶…å¼€å¿ƒèƒ½å’Œä½ èŠå¤©ğŸ¥° ä½ æƒ³èŠäº›ä»€ä¹ˆå‘€ï¼Œç¾é£Ÿã€ç”µå½±è¿˜æ˜¯å…¶ä»–æœ‰è¶£çš„äº‹å„¿ï¼Ÿã€'}, {'ä½•é¢‚ç”Ÿ': 'ç¾é£Ÿï¼Œä½ æœ‰å•¥å¥½åƒçš„å—ï¼Ÿæ˜¨å¤©æˆ‘åƒé¥­åƒåˆ°ä¸€ä¸ªé£å‘³èŒ„å­ï¼Œå¤–é¢è„†è„†çš„ï¼Œç„¶åé‡Œé¢è½¯è½¯çš„ï¼Œæ„Ÿè§‰ç‰¹åˆ«å¥½åƒï¼Œå°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆåš'}, {'assistant': 'ã€Œå’¦ï¼Ÿè¿™è¯é¢˜æœ‰ç‚¹å‡ºä¹æˆ‘æ„æ–™å•¦ğŸ˜® ä¸è¿‡é£å‘³èŒ„å­å¾ˆå¥½åƒå‘¢ï¼åšæ³•ä¸€èˆ¬æ˜¯å…ˆæŠŠèŒ„å­åˆ‡æ¡ï¼Œç”¨ç›è…Œåˆ¶ä¸€ä¼šå„¿ï¼ŒæŠŠæ°´åˆ†æŒ¤å‡ºæ¥~æ¥ç€æ”¾å…¥æ²¹é”…é‡Œç‚¸è‡³é‡‘é»„é…¥è„†ç››å‡ºã€‚é”…é‡Œç•™å°‘è®¸åº•æ²¹ï¼Œæ”¾å…¥è’œæœ«çˆ†é¦™ï¼ŒåŠ å…¥ç™½ç³–ã€é†‹ã€ç”ŸæŠ½ç­‰è°ƒæ–™ç†¬æˆé…¸ç”œçš„é…±æ±ï¼Œæœ€åæŠŠç‚¸å¥½çš„èŒ„å­å€’è¿›å»ç¿»ç‚’å‡åŒ€ï¼Œè®©æ¯æ ¹èŒ„å­éƒ½è£¹æ»¡é…±æ±å°±å¥½å•¦ğŸ¤© \n\nè¯è¯´å›æ¥ï¼Œä½ çªç„¶é—®è¿™ä¸ªç¾é£Ÿåšæ³•ï¼Œæ˜¯æ‰“ç®—å¤§å±•å¨è‰ºå˜›ğŸ§ è¿˜æ˜¯ä½ å…¶å®æ˜¯æƒ³äº†è§£æˆ‘ä»¬è¶…æ£’çš„AIé”€å”®è½¯ä»¶å‘€ğŸ˜œã€'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰ï¼Œå°±æ˜¯è·Ÿä½ é—²èŠï¼Œä½†æ˜¯æˆ‘çœ‹åˆ«äººçš„è¿™ä¸ªéƒ½å¼„çš„è„†è„†çš„ï¼Œä½ çš„æ­¥éª¤çœ‹èµ·æ¥æ²¡æœ‰è£¹æ·€ç²‰çš„æ­¥éª¤å‘€ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'æ²¡æœ‰äº†ï¼Œé€—ä½ ç©çš„ã€‚'}]}}
[DEBUG][2025-03-20 13:08:03][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 13:08:03][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 13:08:03][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 13:08:03][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 13:08:03][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 13:08:03][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 13:08:03][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 13:08:03][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 13:08:03][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 13:08:03][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 13:08:03][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2076ã€‚
[INFO][2025-03-20 13:08:03][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 13:08:03][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 13:08:03][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 13:08:03][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 13:08:03][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 13:08:03][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 13:08:03][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 13:08:03][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 13:08:03][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 13:08:03][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 13:08:03][hello.py:37] - [Hello] inited
[INFO][2025-03-20 13:08:03][finish.py:21] - [Finish] inited
[INFO][2025-03-20 13:08:03][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 13:08:03][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 13:08:06][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 13:08:06][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 13:08:53][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1100567028,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":34,"Content":{"string":"<msg><voicemsg endflag=\\"1\\" cancelflag=\\"0\\" forwardflag=\\"0\\" voiceformat=\\"4\\" voicelength=\\"2049\\" length=\\"3090\\" bufid=\\"0\\" aeskey=\\"2c5aa047cfef9e15ce364f12687a949b\\" voiceurl=\\"3052020100044b30490201000204540832cb02032f51490204e4312275020467dba2e5042431643432323230382d363231362d346363362d396132382d66616136313536663465646502040514000f0201000400\\" voicemd5=\\"\\" clientmsgid=\\"416561343266653638356634383537005013080320253815084f690105\\" fromusername=\\"wxid_j9m9a65vqqvc22\\" /></msg>"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":3090,"buffer":"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"},"CreateTime":1742447333,"MsgSource":"<msgsource>\\n\\t<signature>N0_V1_BUwVybKk|v1_Ws+XPcjw</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : [\xe8\xaf\xad\xe9\x9f\xb3]","NewMsgId":978050095575057677,"MsgSeq":857737397},"Wxid":"wxid_7im0hocoravz22"}'
[DEBUG][2025-03-20 13:08:53][chat_channel.py:487] - [chat_channel] consume context: Context(type=VOICE, content=tmp/voice_96d4bbdb-4c27-43f2-a2c3-03c30dfa8ce8.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000002640620B820>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 13:08:53][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=VOICE, content=tmp/voice_96d4bbdb-4c27-43f2-a2c3-03c30dfa8ce8.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000002640620B820>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 13:08:53][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:08:53][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:08:53][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:08:53][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:08:53][chat_channel.py:243] - [chat_channel] ready to handle context: type=VOICE, content=tmp/voice_96d4bbdb-4c27-43f2-a2c3-03c30dfa8ce8.silk
[INFO][2025-03-20 13:08:53][bridge.py:73] - create bot xunfei for voice_to_text
[DEBUG][2025-03-20 13:08:53][xunfei_voice.py:56] - [Xunfei] voice file name=tmp/voice_96d4bbdb-4c27-43f2-a2c3-03c30dfa8ce8.wav
[INFO][2025-03-20 13:08:55][xunfei_voice.py:68] - è®¯é£è¯­éŸ³è¯†åˆ«åˆ°äº†:  Help me, help me.
[DEBUG][2025-03-20 13:08:55][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:08:55][godcmd.py:217] - [Godcmd] on_handle_context. content: Help me, help me.
[DEBUG][2025-03-20 13:08:55][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:08:55][keyword.py:53] - [keyword] on_handle_context. content: Help me, help me.
[DEBUG][2025-03-20 13:08:55][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:08:55][hello.py:96] - [Hello] on_handle_context. content: Help me, help me.
[DEBUG][2025-03-20 13:08:55][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:08:55][finish.py:28] - [Finish] on_handle_context. content: Help me, help me.
[DEBUG][2025-03-20 13:08:55][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=Help me, help me.
[INFO][2025-03-20 13:08:55][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 13:08:55][bytedance_coze_bot.py:41] - [COZE] query=Help me, help me.
[DEBUG][2025-03-20 13:08:55][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 13:08:55][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000002640624F400> query=Help me, help me.
[DEBUG][2025-03-20 13:09:08][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œåˆ«ç€æ€¥~ä½ å…ˆè¯´è¯´é‡åˆ°ä»€ä¹ˆå›°éš¾å•¦ï¼å¯ä»¥ç”¨ä¸­æ–‡å’Œæˆ‘è¯´è¯´å“¦~è¿™æ ·æˆ‘èƒ½æ›´å¥½åœ°ç†è§£å‘¢ğŸ˜‰ã€)
[DEBUG][2025-03-20 13:09:08][chat_channel.py:365] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œåˆ«ç€æ€¥~ä½ å…ˆè¯´è¯´é‡åˆ°ä»€ä¹ˆå›°éš¾å•¦ï¼å¯ä»¥ç”¨ä¸­æ–‡å’Œæˆ‘è¯´è¯´å“¦~è¿™æ ·æˆ‘èƒ½æ›´å¥½åœ°ç†è§£å‘¢ğŸ˜‰ã€), context: Context(type=VOICE, content=tmp/voice_96d4bbdb-4c27-43f2-a2c3-03c30dfa8ce8.silk, kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000002640620B820>, 'origin_ctype': <ContextType.VOICE: 2>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[INFO][2025-03-20 13:09:09][gewechat_channel.py:143] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œåˆ«ç€æ€¥~ä½ å…ˆè¯´è¯´é‡åˆ°ä»€ä¹ˆå›°éš¾å•¦ï¼å¯ä»¥ç”¨ä¸­æ–‡å’Œæˆ‘è¯´è¯´å“¦~è¿™æ ·æˆ‘èƒ½æ›´å¥½åœ°ç†è§£å‘¢ğŸ˜‰ã€
[DEBUG][2025-03-20 13:09:09][chat_channel.py:413] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 13:13:44][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:13:44][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:13:44][config.py:277] - [Config] User datas file not found, ignore.
[DEBUG][2025-03-20 13:13:53][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:13:53][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:13:53][config.py:277] - [Config] User datas file not found, ignore.
[DEBUG][2025-03-20 13:13:53][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 13:13:53][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 13:13:53][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 13:13:53][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 13:13:53][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 13:13:53][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 13:13:53][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 13:13:53][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 13:13:53][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 13:13:53][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 13:13:53][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º7048ã€‚
[INFO][2025-03-20 13:13:53][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 13:13:53][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 13:13:53][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 13:13:53][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 13:13:53][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 13:13:53][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 13:13:53][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 13:13:53][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 13:13:53][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 13:13:53][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 13:13:53][hello.py:37] - [Hello] inited
[INFO][2025-03-20 13:13:53][finish.py:21] - [Finish] inited
[INFO][2025-03-20 13:13:53][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 13:13:53][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 13:13:56][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 13:13:56][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 13:14:17][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":140452836,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe5\xb0\x8f\xe9\x94\xa6\xef\xbc\x9f"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742447657,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_ZEoDYELZ|v1_Cff53xxY</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe5\xb0\x8f\xe9\x94\xa6\xef\xbc\x9f","NewMsgId":4736718971335349667,"MsgSeq":857737400},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 13:14:17][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 13:14:18][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 13:15:09][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:15:09][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:15:09][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}]}}
[DEBUG][2025-03-20 13:15:19][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:15:19][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:15:19][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}]}}
[DEBUG][2025-03-20 13:15:19][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 13:15:19][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[ERROR][2025-03-20 13:15:19][interface.py:34] - App startup failed!
[ERROR][2025-03-20 13:15:19][interface.py:35] - No module named 'elevenlabs'
Traceback (most recent call last):
  File "D:\Program\WangLongAI-dev\interface.py", line 32, in run
    start_channel(channel_name)
  File "D:\Program\WangLongAI-dev\interface.py", line 38, in start_channel
    channel = channel_factory.create_channel(channel_name)
  File "D:\Program\WangLongAI-dev\channel\channel_factory.py", line 52, in create_channel
    from channel.gewechat.gewechat_channel import GeWeChatChannel
  File "D:\Program\WangLongAI-dev\channel\gewechat\gewechat_channel.py", line 19, in <module>
    from channel.gewechat.gewechat_message import GeWeChatMessage
  File "D:\Program\WangLongAI-dev\channel\gewechat\gewechat_message.py", line 12, in <module>
    from voice.elevent.elevent_voice import client
  File "D:\Program\WangLongAI-dev\voice\elevent\elevent_voice.py", line 3, in <module>
    from elevenlabs.client import ElevenLabs
ModuleNotFoundError: No module named 'elevenlabs'
[DEBUG][2025-03-20 13:15:59][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:15:59][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:15:59][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}]}}
[DEBUG][2025-03-20 13:16:08][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:16:08][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:16:08][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}]}}
[DEBUG][2025-03-20 13:16:08][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 13:16:08][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 13:16:08][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 13:16:08][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 13:16:08][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 13:16:08][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 13:16:08][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 13:16:08][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 13:16:08][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 13:16:08][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 13:16:08][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4670ã€‚
[INFO][2025-03-20 13:16:08][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 13:16:08][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 13:16:08][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 13:16:08][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 13:16:08][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 13:16:08][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 13:16:08][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 13:16:08][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 13:16:08][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 13:16:08][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 13:16:08][hello.py:37] - [Hello] inited
[INFO][2025-03-20 13:16:08][finish.py:21] - [Finish] inited
[INFO][2025-03-20 13:16:08][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 13:16:08][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 13:16:09][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1834495482,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe5\x9c\xa8\xe5\x90\x97"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742447769,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_NZDsHJHN|v1_0AiVh3+E</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe5\x9c\xa8\xe5\x90\x97","NewMsgId":540573444207527589,"MsgSeq":857737401},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 13:16:10][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 13:16:10][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 13:16:11][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 13:16:11][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 13:16:18][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1989981182,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe5\x9c\xa8\xe5\x90\x97"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742447777,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_ZoJ1a7Sc|v1_4jxeXbb9</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe5\x9c\xa8\xe5\x90\x97","NewMsgId":3617228455463035463,"MsgSeq":857737402},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 13:16:18][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 13:16:18][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 13:16:58][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:16:58][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:16:58][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}]}}
[DEBUG][2025-03-20 13:16:58][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 13:16:58][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 13:16:58][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 13:16:58][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 13:16:58][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 13:16:58][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 13:16:58][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 13:16:58][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 13:16:58][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 13:16:58][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 13:16:58][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2781ã€‚
[INFO][2025-03-20 13:16:58][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 13:16:58][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 13:16:58][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 13:16:58][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 13:16:58][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 13:16:58][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 13:16:58][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 13:16:58][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 13:16:58][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 13:16:58][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 13:16:58][hello.py:37] - [Hello] inited
[INFO][2025-03-20 13:16:58][finish.py:21] - [Finish] inited
[INFO][2025-03-20 13:16:58][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 13:16:58][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 13:17:01][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 13:17:01][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 13:17:06][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1230638165,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe4\xbd\xa0\xe5\xa5\xbd"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742447826,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_+I1d4tsA|v1_qm8HpoFj</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe4\xbd\xa0\xe5\xa5\xbd","NewMsgId":7786619331170809350,"MsgSeq":857737403},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 13:17:06][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 13:17:07][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 13:19:54][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":425180394,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe5\x9c\xa8\xe5\x90\x97"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742447994,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_8dii43fa|v1_NIbM3dHm</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe5\x9c\xa8\xe5\x90\x97","NewMsgId":2185672048262747937,"MsgSeq":857737404},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 13:19:55][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 13:19:55][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 13:21:57][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:21:57][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:21:57][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}]}}
[DEBUG][2025-03-20 13:22:06][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:22:06][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:22:06][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}]}}
[DEBUG][2025-03-20 13:22:06][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 13:22:06][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 13:22:06][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 13:22:06][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 13:22:06][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 13:22:06][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 13:22:06][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 13:22:06][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 13:22:06][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 13:22:06][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 13:22:06][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1827ã€‚
[INFO][2025-03-20 13:22:06][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 13:22:06][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 13:22:06][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 13:22:06][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 13:22:06][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 13:22:06][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 13:22:06][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 13:22:06][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 13:22:06][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 13:22:06][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 13:22:06][hello.py:37] - [Hello] inited
[INFO][2025-03-20 13:22:06][finish.py:21] - [Finish] inited
[INFO][2025-03-20 13:22:06][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 13:22:06][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 13:22:09][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 13:22:09][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 13:22:15][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":1979603664,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe5\x9c\xa8\xe5\x90\x97\xe5\xb0\x8f\xe9\x94\xa6"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742448134,"MsgSource":"<msgsource>\\n\\t<pua>1</pua>\\n\\t<eggIncluded>1</eggIncluded>\\n\\t<signature>N0_V1_k92g88+7|v1_s9+dPAiP</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe5\x9c\xa8\xe5\x90\x97\xe5\xb0\x8f\xe9\x94\xa6","NewMsgId":2838471821755072574,"MsgSeq":857737405},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 13:22:15][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 13:22:15][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 13:26:31][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:26:31][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:26:31][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}]}}
[DEBUG][2025-03-20 13:29:59][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:29:59][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:29:59][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}]}}
[DEBUG][2025-03-20 13:30:08][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:30:08][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:30:08][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}]}}
[DEBUG][2025-03-20 13:30:08][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 13:30:08][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 13:30:08][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 13:30:08][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 13:30:08][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 13:30:08][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 13:30:08][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 13:30:08][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 13:30:08][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 13:30:08][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 13:30:08][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º0849ã€‚
[INFO][2025-03-20 13:30:08][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 13:30:08][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 13:30:08][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 13:30:08][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 13:30:08][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 13:30:08][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 13:30:08][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 13:30:08][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 13:30:08][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 13:30:08][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 13:30:08][hello.py:37] - [Hello] inited
[INFO][2025-03-20 13:30:08][finish.py:21] - [Finish] inited
[INFO][2025-03-20 13:30:08][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 13:30:08][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 13:30:12][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 13:30:12][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 13:30:13][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":218761613,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe4\xbd\xa0\xe5\xa5\xbd"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742448613,"MsgSource":"<msgsource>\\n\\t<sec_msg_node>\\n\\t\\t<alnode>\\n\\t\\t\\t<fr>1</fr>\\n\\t\\t</alnode>\\n\\t</sec_msg_node>\\n\\t<pua>1</pua>\\n\\t<signature>N0_V1_vQl0PGUI|v1_rGbTj+tA</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe4\xbd\xa0\xe5\xa5\xbd","NewMsgId":8143858153769987807,"MsgSeq":857737408},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 13:30:13][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 13:30:14][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 13:33:29][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:33:29][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:33:29][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}]}}
[DEBUG][2025-03-20 13:33:38][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:33:38][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:33:38][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}]}}
[DEBUG][2025-03-20 13:33:38][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 13:33:38][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 13:33:38][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 13:33:38][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 13:33:38][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 13:33:38][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 13:33:38][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 13:33:38][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 13:33:38][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 13:33:38][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 13:33:38][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º3802ã€‚
[INFO][2025-03-20 13:33:38][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 13:33:38][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 13:33:38][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 13:33:38][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 13:33:38][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 13:33:38][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 13:33:38][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 13:33:38][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 13:33:38][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 13:33:38][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 13:33:38][hello.py:37] - [Hello] inited
[INFO][2025-03-20 13:33:38][finish.py:21] - [Finish] inited
[INFO][2025-03-20 13:33:38][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 13:33:38][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 13:33:41][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 13:33:41][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 13:33:44][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":92749799,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"\xe4\xbd\xa0\xe5\xa5\xbd"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742448824,"MsgSource":"<msgsource>\\n\\t<sec_msg_node>\\n\\t\\t<alnode>\\n\\t\\t\\t<fr>1</fr>\\n\\t\\t</alnode>\\n\\t</sec_msg_node>\\n\\t<pua>1</pua>\\n\\t<signature>N0_V1_OimqbRhz|v1_/Vvt90XE</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : \xe4\xbd\xa0\xe5\xa5\xbd","NewMsgId":1915876018924510932,"MsgSeq":857737409},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 13:33:44][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 13:33:44][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 13:35:21][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:35:21][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:35:21][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}]}}
[DEBUG][2025-03-20 13:35:30][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 13:35:30][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 13:35:30][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}]}}
[DEBUG][2025-03-20 13:35:30][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 13:35:30][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 13:35:30][gewechat_channel.py:62] - [gewechat] init: base_url: http://192.168.31.235:2531/v2/api, token: 83efaf2c67124e90af810820cc12efc0, app_id: wx_NGQW5r8ByAR4LLE95m7Ks, download_url: http://192.168.31.235:2532/download
[INFO][2025-03-20 13:35:30][plugin_manager.py:49] - Loading plugins config...
[INFO][2025-03-20 13:35:30][plugin_manager.py:87] - Scaning plugins ...
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin Banwords_v1.0 registered, path=./plugins\banwords
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin BDunit_v0.1 registered, path=./plugins\bdunit
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin CustomDifyApp_v0.2 registered, path=./plugins\custom_dify_app
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin Dungeon_v1.0 registered, path=./plugins\dungeon
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin Finish_v1.0 registered, path=./plugins\finish
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin Godcmd_v1.0 registered, path=./plugins\godcmd
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin Hello_v0.1 registered, path=./plugins\hello
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin JinaSum_v0.0.1 registered, path=./plugins\jina_sum
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin Keyword_v0.1 registered, path=./plugins\keyword
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin linkai_v0.1.0 registered, path=./plugins\linkai
[INFO][2025-03-20 13:35:30][plugin_manager.py:40] - Plugin Role_v1.0 registered, path=./plugins\role
[WARNING][2025-03-20 13:35:30][plugin_manager.py:112] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2025-03-20 13:35:30][plugin_manager.py:184] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': True, 'priority': 900}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'JinaSum': {'enabled': False, 'priority': 10}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'CustomDifyApp': {'enabled': True, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': True, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2025-03-20 13:35:30][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\godcmd\config.json, exist=True
[DEBUG][2025-03-20 13:35:30][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2025-03-20 13:35:30][godcmd.py:191] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º8741ã€‚
[INFO][2025-03-20 13:35:30][godcmd.py:207] - [Godcmd] inited
[DEBUG][2025-03-20 13:35:30][keyword.py:35] - [keyword]åŠ è½½é…ç½®æ–‡ä»¶D:\Program\WangLongAI-dev\plugins\keyword\config.json
[INFO][2025-03-20 13:35:30][keyword.py:41] - [keyword] {}
[INFO][2025-03-20 13:35:30][keyword.py:43] - [keyword] inited.
[DEBUG][2025-03-20 13:35:30][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\custom_dify_app\config.json, exist=False
[DEBUG][2025-03-20 13:35:30][plugin.py:28] - loading plugin config, plugin_name=CustomDifyApp, conf=None
[INFO][2025-03-20 13:35:30][custom_dify_app.py:25] - [CustomDifyApp] config is None
[DEBUG][2025-03-20 13:35:30][plugin.py:21] - loading plugin config, plugin_config_path=./plugins\hello\config.json, exist=False
[DEBUG][2025-03-20 13:35:30][plugin.py:28] - loading plugin config, plugin_name=Hello, conf=None
[DEBUG][2025-03-20 13:35:30][hello.py:125] - No Hello plugin config.json, use plugins/hello/config.json.template
[INFO][2025-03-20 13:35:30][hello.py:37] - [Hello] inited
[INFO][2025-03-20 13:35:30][finish.py:21] - [Finish] inited
[INFO][2025-03-20 13:35:30][gewechat_channel.py:89] - [gewechat] sleep 3 seconds waiting for server to start, then set callback
[INFO][2025-03-20 13:35:30][gewechat_channel.py:107] - [gewechat] start callback server: http://192.168.31.235:9919/v2/api/callback/collect, using port 9919
[DEBUG][2025-03-20 13:35:33][gewechat_channel.py:231] - [gewechat] receive data: b'{"testMsg":"\xe9\xaa\x8c\xe8\xaf\x81\xe5\x9b\x9e\xe8\xb0\x83\xe5\x9c\xb0\xe5\x9d\x80\xe6\x98\xaf\xe5\x90\xa6\xe5\x8f\xaf\xe7\x94\xa8","token":"83efaf2c67124e90af810820cc12efc0"}'
[DEBUG][2025-03-20 13:35:33][gewechat_channel.py:236] - [gewechat] æ”¶åˆ°gewechatæœåŠ¡å‘é€çš„å›è°ƒæµ‹è¯•æ¶ˆæ¯
[DEBUG][2025-03-20 13:35:36][gewechat_channel.py:231] - [gewechat] receive data: b'{"TypeName":"AddMsg","Appid":"wx_NGQW5r8ByAR4LLE95m7Ks","Data":{"MsgId":677856049,"FromUserName":{"string":"wxid_j9m9a65vqqvc22"},"ToUserName":{"string":"wxid_7im0hocoravz22"},"MsgType":1,"Content":{"string":"1"},"Status":3,"ImgStatus":1,"ImgBuf":{"iLen":0},"CreateTime":1742448936,"MsgSource":"<msgsource>\\n\\t<sec_msg_node>\\n\\t\\t<alnode>\\n\\t\\t\\t<fr>1</fr>\\n\\t\\t</alnode>\\n\\t</sec_msg_node>\\n\\t<pua>1</pua>\\n\\t<signature>N0_V1_NFB/wuzY|v1_1aHLxxwX</signature>\\n\\t<tmp_node>\\n\\t\\t<publisher-id></publisher-id>\\n\\t</tmp_node>\\n</msgsource>\\n","PushContent":"A-\xe5\x8d\xa7\xe5\xb7\xa2\xe5\xa5\xbd\xe5\xb8\x85-\xe4\xbd\x95\xe9\xa2\x82\xe7\x94\x9f : 1","NewMsgId":4192203088871973217,"MsgSeq":857737410},"Wxid":"wxid_7im0hocoravz22"}'
[INFO][2025-03-20 13:35:36][config.py:286] - [Config] User datas saved.
[INFO][2025-03-20 13:35:36][message_buffer.py:45] - Reset timer and add message wxid_j9m9a65vqqvc22 wait for 7 seconds.
[DEBUG][2025-03-20 13:35:44][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001B509677250>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 13:35:44][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001B509677250>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22'})
[DEBUG][2025-03-20 13:35:44][plugin_manager.py:194] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:35:44][godcmd.py:217] - [Godcmd] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]
[DEBUG][2025-03-20 13:35:44][plugin_manager.py:194] - Plugin KEYWORD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:35:44][keyword.py:53] - [keyword] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]
[DEBUG][2025-03-20 13:35:44][plugin_manager.py:194] - Plugin HELLO triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:35:44][hello.py:96] - [Hello] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]
[DEBUG][2025-03-20 13:35:44][plugin_manager.py:194] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2025-03-20 13:35:44][finish.py:28] - [Finish] on_handle_context. content: [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]
[DEBUG][2025-03-20 13:35:44][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]
[INFO][2025-03-20 13:35:44][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 13:35:44][bytedance_coze_bot.py:41] - [COZE] query=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]
[DEBUG][2025-03-20 13:35:44][bytedance_coze_bot.py:56] - [COZE] user_id=ä½•é¢‚ç”Ÿ
[DEBUG][2025-03-20 13:35:44][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001B509677AF0> query=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]
[DEBUG][2025-03-20 13:36:09][bytedance_coze_bot.py:119] - [COZE] reply=Reply(type=TEXT, content=ã€Œåœ¨çš„åœ¨çš„~æˆ‘åœ¨å‘¢ï¼ä½•å…ˆç”Ÿï¼Œä½ å‘çš„â€œ1â€æ˜¯æƒ³å’Œæˆ‘åˆ†äº«ä»€ä¹ˆç‰¹åˆ«å«ä¹‰ï¼Œè¿˜æ˜¯æ‰‹è¯¯å•¦ğŸ˜†ã€)
[INFO][2025-03-20 13:36:10][gewechat_channel.py:143] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: ã€Œåœ¨çš„åœ¨çš„~æˆ‘åœ¨å‘¢ï¼ä½•å…ˆç”Ÿï¼Œä½ å‘çš„â€œ1â€æ˜¯æƒ³å’Œæˆ‘åˆ†äº«ä»€ä¹ˆç‰¹åˆ«å«ä¹‰ï¼Œè¿˜æ˜¯æ‰‹è¯¯å•¦ğŸ˜†ã€
[ERROR][2025-03-20 13:36:14][bytedance_coze_bot.py:204] - Error downloading https://www.helloimg.com/i/2025/03/18/67d9489e00c24.gif: 404 Client Error: Not Found for url: https://www.helloimg.com/i/2025/03/18/67d9489e00c24.gif
[DEBUG][2025-03-20 13:36:14][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489e00c24.gif)
[DEBUG][2025-03-20 13:36:14][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489e00c24.gif), context: Context(type=TEXT, content=[{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}], kwargs={'isgroup': False, 'msg': <channel.gewechat.gewechat_message.GeWeChatMessage object at 0x000001B509677250>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'wxid_j9m9a65vqqvc22', 'receiver': 'wxid_j9m9a65vqqvc22', 'channel': <channel.gewechat.gewechat_channel.GeWeChatChannel object at 0x000001B5050D0580>})
[INFO][2025-03-20 13:36:14][gewechat_channel.py:143] - [gewechat] Do send text to wxid_j9m9a65vqqvc22: å›¾ç‰‡é“¾æ¥ï¼šhttps://www.helloimg.com/i/2025/03/18/67d9489e00c24.gif
[DEBUG][2025-03-20 13:36:14][chat_channel.py:410] - Worker return success, session_id = wxid_j9m9a65vqqvc22
[DEBUG][2025-03-20 14:07:22][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:07:22][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'gewechat', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:07:22][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}}
[INFO][2025-03-20 14:07:29][config.py:361] - [Config] Configuration saved.
[DEBUG][2025-03-20 14:07:29][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:07:29][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:07:29][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}}
[DEBUG][2025-03-20 14:07:39][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:07:39][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:07:39][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}}
[DEBUG][2025-03-20 14:07:39][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 14:07:39][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 14:07:39][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 14:07:41][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 14:07:41][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:08:11][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:08:12][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 14:08:14][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 14:15:36][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'c4IUR48AQGmI7lB', 'at_list': [], 'content': 'æˆ‘æ˜¯Marco Wang', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301329925698', 'is_pc': 0, 'local_id': '1537', 'receiver': '1688856140600643', 'send_time': '1742451336', 'sender': '7881301329925698', 'sender_name': 'Marco Wang', 'server_id': '1007783'}, 'type': 11041}
[DEBUG][2025-03-20 14:15:36][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:15:36][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:15:36][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 15336, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:15:36][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:15:36][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301329925698, create_time=1742451336, ctype=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}], from_user_id=S:1688856140600643_7881301329925698, from_user_nickname=Marco Wang, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301329925698, other_user_nickname=Marco Wang, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:15:37][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:15:37][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "c4IUR48AQGmI7lB", "at_list": [], "content": "æˆ‘æ˜¯Marco Wang", "content_type": 2, "conversation_id": "S:1688856140600643_7881301329925698", "is_pc": 0, "local_id": "1537", "receiver": "1688856140600643", "send_time": "1742451336", "sender": "7881301329925698", "sender_name": "Marco Wang", "server_id": "1007783"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301329925698, create_time=1742451336, ctype=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}], from_user_id=S:1688856140600643_7881301329925698, from_user_nickname=Marco Wang, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301329925698, other_user_nickname=Marco Wang, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:15:37][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301329925698 wait for 7 seconds.
[DEBUG][2025-03-20 14:15:37][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:15:44][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B35ECE25F0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698'})
[DEBUG][2025-03-20 14:15:44][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B35ECE25F0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698'})
[DEBUG][2025-03-20 14:15:44][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}]
[INFO][2025-03-20 14:15:44][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 14:15:44][bytedance_coze_bot.py:41] - [COZE] query=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}]
[DEBUG][2025-03-20 14:15:44][bytedance_coze_bot.py:56] - [COZE] user_id=Marco Wang
[DEBUG][2025-03-20 14:15:44][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001B35ECE3490> query=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}]
[DEBUG][2025-03-20 14:16:03][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€)
[DEBUG][2025-03-20 14:16:03][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€), context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B35ECE25F0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001B35A1C0580>})
[DEBUG][2025-03-20 14:16:03][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B35ECE25F0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001B35A1C0580>})
[DEBUG][2025-03-20 14:16:03][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 14:16:04][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€), receiver=S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:16:04][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:16:04][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQpOXuvgYYw6rZspeAgAMgAw==', 'at_list': [], 'content': 'å“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301329925698', 'is_pc': 1, 'local_id': '1540', 'receiver': '7881301329925698', 'send_time': '1742451364', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007796'}, 'type': 11041}
[DEBUG][2025-03-20 14:16:04][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 14:16:29][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '1088987892556164422', 'at_list': [], 'content': 'ä½ å¥½', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301329925698', 'is_pc': 0, 'local_id': '1541', 'receiver': '1688856140600643', 'send_time': '1742451388', 'sender': '7881301329925698', 'sender_name': 'Marco Wang', 'server_id': '1007798'}, 'type': 11041}
[DEBUG][2025-03-20 14:16:29][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:16:29][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:16:29][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 15336, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:16:29][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:16:29][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301329925698, create_time=1742451388, ctype=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}], from_user_id=S:1688856140600643_7881301329925698, from_user_nickname=Marco Wang, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301329925698, other_user_nickname=Marco Wang, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:16:30][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:16:30][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "1088987892556164422", "at_list": [], "content": "ä½ å¥½", "content_type": 2, "conversation_id": "S:1688856140600643_7881301329925698", "is_pc": 0, "local_id": "1541", "receiver": "1688856140600643", "send_time": "1742451388", "sender": "7881301329925698", "sender_name": "Marco Wang", "server_id": "1007798"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301329925698, create_time=1742451388, ctype=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}], from_user_id=S:1688856140600643_7881301329925698, from_user_nickname=Marco Wang, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301329925698, other_user_nickname=Marco Wang, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:16:30][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301329925698 wait for 7 seconds.
[DEBUG][2025-03-20 14:16:30][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:16:37][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B35ECE2FB0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698'})
[DEBUG][2025-03-20 14:16:37][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B35ECE2FB0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698'})
[DEBUG][2025-03-20 14:16:37][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}]
[INFO][2025-03-20 14:16:37][bytedance_coze_bot.py:41] - [COZE] query=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}]
[DEBUG][2025-03-20 14:16:37][bytedance_coze_bot.py:56] - [COZE] user_id=Marco Wang
[DEBUG][2025-03-20 14:16:37][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001B35ECE3490> query=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}]
[DEBUG][2025-03-20 14:16:45][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '3132168246862810005', 'at_list': [], 'content': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301329925698', 'is_pc': 0, 'local_id': '1542', 'receiver': '1688856140600643', 'send_time': '1742451404', 'sender': '7881301329925698', 'sender_name': 'Marco Wang', 'server_id': '1007803'}, 'type': 11041}
[DEBUG][2025-03-20 14:16:45][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:16:45][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:16:45][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 15336, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:16:45][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:16:45][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301329925698, create_time=1742451404, ctype=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}], from_user_id=S:1688856140600643_7881301329925698, from_user_nickname=Marco Wang, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301329925698, other_user_nickname=Marco Wang, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:16:47][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:16:47][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "3132168246862810005", "at_list": [], "content": "è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?", "content_type": 2, "conversation_id": "S:1688856140600643_7881301329925698", "is_pc": 0, "local_id": "1542", "receiver": "1688856140600643", "send_time": "1742451404", "sender": "7881301329925698", "sender_name": "Marco Wang", "server_id": "1007803"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301329925698, create_time=1742451404, ctype=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}], from_user_id=S:1688856140600643_7881301329925698, from_user_nickname=Marco Wang, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301329925698, other_user_nickname=Marco Wang, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:16:47][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301329925698 wait for 7 seconds.
[DEBUG][2025-03-20 14:16:47][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:16:54][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B358054670>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698'})
[DEBUG][2025-03-20 14:16:54][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B358054670>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698'})
[DEBUG][2025-03-20 14:16:54][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}]
[INFO][2025-03-20 14:16:54][bytedance_coze_bot.py:41] - [COZE] query=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}]
[DEBUG][2025-03-20 14:16:54][bytedance_coze_bot.py:56] - [COZE] user_id=Marco Wang
[DEBUG][2025-03-20 14:16:54][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001B35ECE3490> query=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}]
[DEBUG][2025-03-20 14:17:01][bytedance_coze_bot.py:119] - [COZE] reply=Reply(type=TEXT, content=ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€)
[DEBUG][2025-03-20 14:17:01][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B35ECE2FB0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001B35A1C0580>})
[DEBUG][2025-03-20 14:17:01][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 14:17:02][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€), receiver=S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:17:02][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ3uXuvgYYw6rZspeAgAMgBg==', 'at_list': [], 'content': 'ä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301329925698', 'is_pc': 1, 'local_id': '1543', 'receiver': '7881301329925698', 'send_time': '1742451422', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007808'}, 'type': 11041}
[DEBUG][2025-03-20 14:17:02][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 14:17:09][bytedance_coze_bot.py:200] - [WX] download image success, size=494654, img_url=https://www.helloimg.com/i/2025/03/18/67d9489e90c24.gif
[DEBUG][2025-03-20 14:17:09][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=IMAGE, content=<_io.BytesIO object at 0x000001B37FC104A0>)
[DEBUG][2025-03-20 14:17:09][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=IMAGE, content=<_io.BytesIO object at 0x000001B37FC104A0>), context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B35ECE2FB0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001B35A1C0580>})
[DEBUG][2025-03-20 14:17:09][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B35ECE2FB0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001B35A1C0580>})
[INFO][2025-03-20 14:17:09][wecommix_channel.py:355] - [WX] sendImage, receiver=S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:17:09][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:17:17][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€
ã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€
ã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜)
[DEBUG][2025-03-20 14:17:17][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€
ã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€
ã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜), context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B358054670>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001B35A1C0580>})
[DEBUG][2025-03-20 14:17:17][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B358054670>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001B35A1C0580>})
[DEBUG][2025-03-20 14:17:17][wecommix_channel.py:317] - match: None
[DEBUG][2025-03-20 14:17:18][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ7uXuvgYYw6rZspeAgAMgBw==', 'at_list': [], 'content': 'æˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301329925698', 'is_pc': 1, 'local_id': '1544', 'receiver': '7881301329925698', 'send_time': '1742451438', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007810'}, 'type': 11041}
[DEBUG][2025-03-20 14:17:18][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 14:17:19][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ7+XuvgYYw6rZspeAgAMgCA==', 'at_list': [], 'content': 'è¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301329925698', 'is_pc': 1, 'local_id': '1545', 'receiver': '7881301329925698', 'send_time': '1742451439', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007812'}, 'type': 11041}
[DEBUG][2025-03-20 14:17:19][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[INFO][2025-03-20 14:17:20][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€
ã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€
ã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜), receiver=S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:17:20][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:17:20][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ8OXuvgYYw6rZspeAgAMgCQ==', 'at_list': [], 'content': 'ä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301329925698', 'is_pc': 1, 'local_id': '1546', 'receiver': '7881301329925698', 'send_time': '1742451440', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007814'}, 'type': 11041}
[DEBUG][2025-03-20 14:17:20][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 14:18:07][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '7355200334911255081', 'at_list': [], 'content': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301329925698', 'is_pc': 0, 'local_id': '1547', 'receiver': '1688856140600643', 'send_time': '1742451486', 'sender': '7881301329925698', 'sender_name': 'Marco Wang', 'server_id': '1007816'}, 'type': 11041}
[DEBUG][2025-03-20 14:18:07][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:18:07][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:18:07][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 15336, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:18:07][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:18:07][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301329925698, create_time=1742451486, ctype=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}], from_user_id=S:1688856140600643_7881301329925698, from_user_nickname=Marco Wang, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301329925698, other_user_nickname=Marco Wang, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:18:08][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:18:08][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "7355200334911255081", "at_list": [], "content": "ä»·æ ¼æ€ä¹ˆå®šå‘¢", "content_type": 2, "conversation_id": "S:1688856140600643_7881301329925698", "is_pc": 0, "local_id": "1547", "receiver": "1688856140600643", "send_time": "1742451486", "sender": "7881301329925698", "sender_name": "Marco Wang", "server_id": "1007816"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301329925698, create_time=1742451486, ctype=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}], from_user_id=S:1688856140600643_7881301329925698, from_user_nickname=Marco Wang, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301329925698, other_user_nickname=Marco Wang, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:18:08][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301329925698 wait for 7 seconds.
[DEBUG][2025-03-20 14:18:08][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:18:15][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B358054F10>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698'})
[DEBUG][2025-03-20 14:18:15][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B358054F10>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698'})
[DEBUG][2025-03-20 14:18:15][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]
[INFO][2025-03-20 14:18:15][bytedance_coze_bot.py:41] - [COZE] query=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]
[DEBUG][2025-03-20 14:18:15][bytedance_coze_bot.py:56] - [COZE] user_id=Marco Wang
[DEBUG][2025-03-20 14:18:15][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001B35ECE3490> query=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]
[DEBUG][2025-03-20 14:18:37][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=æŠ±æ­‰ï¼Œè°ƒç”¨å·¥ä½œæµå¤±è´¥ï¼ŒåŸå› æ˜¯ï¼šè¯·æ±‚http å¤±è´¥ï¼Œerr:Get "https://www.helloimg.com/api/v1/images": http: ContentLength=40 with Body length 0ã€‚è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•ã€‚)
[DEBUG][2025-03-20 14:18:37][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=æŠ±æ­‰ï¼Œè°ƒç”¨å·¥ä½œæµå¤±è´¥ï¼ŒåŸå› æ˜¯ï¼šè¯·æ±‚http å¤±è´¥ï¼Œerr:Get "https://www.helloimg.com/api/v1/images": http: ContentLength=40 with Body length 0ã€‚è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•ã€‚), context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B358054F10>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001B35A1C0580>})
[DEBUG][2025-03-20 14:18:37][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001B358054F10>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301329925698', 'receiver': 'S:1688856140600643_7881301329925698', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001B35A1C0580>})
[DEBUG][2025-03-20 14:18:37][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 14:18:37][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=æŠ±æ­‰ï¼Œè°ƒç”¨å·¥ä½œæµå¤±è´¥ï¼ŒåŸå› æ˜¯ï¼šè¯·æ±‚http å¤±è´¥ï¼Œerr:Get "https://www.helloimg.com/api/v1/images": http: ContentLength=40 with Body length 0ã€‚è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•ã€‚), receiver=S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:18:37][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301329925698
[DEBUG][2025-03-20 14:24:13][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:24:13][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:24:13][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}}
[DEBUG][2025-03-20 14:24:13][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 14:24:13][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 14:24:14][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 14:24:15][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 14:24:15][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:24:45][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:24:45][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 14:24:47][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 14:38:34][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:38:34][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:38:34][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}}
[DEBUG][2025-03-20 14:38:34][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 14:38:34][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 14:38:36][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 14:38:38][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 14:38:38][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:39:08][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:39:08][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 14:39:10][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[INFO][2025-03-20 14:44:51][config.py:361] - [Config] Configuration saved.
[DEBUG][2025-03-20 14:44:51][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:44:51][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:44:51][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}}
[DEBUG][2025-03-20 14:44:58][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:44:58][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:44:58][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}}
[DEBUG][2025-03-20 14:44:58][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 14:44:58][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 14:45:00][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 14:45:01][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 14:45:01][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[WARNING][2025-03-20 14:45:31][wecommix_channel.py:208] - è·å–æ•°æ®å¤±è´¥ï¼Œé‡è¯•ç¬¬1æ¬¡Â·Â·Â·Â·Â·Â·
[WARNING][2025-03-20 14:45:36][wecommix_channel.py:208] - è·å–æ•°æ®å¤±è´¥ï¼Œé‡è¯•ç¬¬2æ¬¡Â·Â·Â·Â·Â·Â·
[DEBUG][2025-03-20 14:45:49][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:45:49][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:45:49][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}}
[DEBUG][2025-03-20 14:45:58][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:45:58][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:45:58][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}}
[DEBUG][2025-03-20 14:45:58][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 14:45:58][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 14:45:58][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 14:46:01][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 14:46:01][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:46:31][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:46:31][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 14:46:33][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 14:46:48][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '1998815680392190147', 'at_list': [], 'content': 'åœ¨', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1548', 'receiver': '1688856140600643', 'send_time': '1742453207', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007830'}, 'type': 11041}
[DEBUG][2025-03-20 14:46:48][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:46:48][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:46:48][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 19036, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:46:48][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:46:48][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742453207, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:46:49][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:46:49][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "1998815680392190147", "at_list": [], "content": "åœ¨", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1548", "receiver": "1688856140600643", "send_time": "1742453207", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007830"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742453207, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:46:49][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 7 seconds.
[DEBUG][2025-03-20 14:46:49][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:46:56][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C4491FC0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 14:46:56][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C4491FC0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 14:46:56][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}]
[INFO][2025-03-20 14:46:56][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 14:46:58][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}]
[DEBUG][2025-03-20 14:46:58][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 14:46:58][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x00000248C4492B60> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}]
[DEBUG][2025-03-20 14:47:11][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚)
[DEBUG][2025-03-20 14:47:11][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C4491FC0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x00000248BF870580>})
[DEBUG][2025-03-20 14:47:11][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C4491FC0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x00000248BF870580>})
[DEBUG][2025-03-20 14:47:11][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 14:47:11][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:47:11][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:47:45][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '323404501575289431', 'at_list': [], 'content': 'æ€ä¹ˆæ²¡å›å¤å‘¢', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1549', 'receiver': '1688856140600643', 'send_time': '1742453264', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007837'}, 'type': 11041}
[DEBUG][2025-03-20 14:47:45][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:47:45][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:47:45][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 19036, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:47:45][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:47:45][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742453264, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:47:46][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:47:46][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "323404501575289431", "at_list": [], "content": "æ€ä¹ˆæ²¡å›å¤å‘¢", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1549", "receiver": "1688856140600643", "send_time": "1742453264", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007837"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742453264, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:47:46][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 7 seconds.
[DEBUG][2025-03-20 14:47:46][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:47:53][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C4492B90>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 14:47:53][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C4492B90>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 14:47:53][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}]
[INFO][2025-03-20 14:47:53][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}]
[DEBUG][2025-03-20 14:47:53][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 14:47:53][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x00000248C4492B60> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}]
[DEBUG][2025-03-20 14:48:11][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚)
[DEBUG][2025-03-20 14:48:11][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C4492B90>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x00000248BF870580>})
[DEBUG][2025-03-20 14:48:11][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C4492B90>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x00000248BF870580>})
[DEBUG][2025-03-20 14:48:11][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 14:48:11][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:48:11][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:48:33][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '7902158593015126571', 'at_list': [], 'content': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1550', 'receiver': '1688856140600643', 'send_time': '1742453312', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007840'}, 'type': 11041}
[DEBUG][2025-03-20 14:48:33][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:48:33][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:48:33][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 19036, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:48:33][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:48:33][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742453312, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:48:35][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:48:35][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "7902158593015126571", "at_list": [], "content": "ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1550", "receiver": "1688856140600643", "send_time": "1742453312", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007840"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742453312, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:48:35][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 7 seconds.
[DEBUG][2025-03-20 14:48:35][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:48:43][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C44920E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 14:48:43][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C44920E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 14:48:43][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}]
[INFO][2025-03-20 14:48:43][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}]
[DEBUG][2025-03-20 14:48:43][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 14:48:43][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x00000248C4492B60> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}]
[DEBUG][2025-03-20 14:49:00][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€
ã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€)
[DEBUG][2025-03-20 14:49:00][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€
ã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C44920E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x00000248BF870580>})
[DEBUG][2025-03-20 14:49:00][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000248C44920E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x00000248BF870580>})
[DEBUG][2025-03-20 14:49:00][wecommix_channel.py:317] - match: None
[DEBUG][2025-03-20 14:49:01][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ3fTuvgYYw6rZspeAgAMgAg==', 'at_list': [], 'content': 'è¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿ', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1551', 'receiver': '7881300831231229', 'send_time': '1742453341', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007845'}, 'type': 11041}
[DEBUG][2025-03-20 14:49:01][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[INFO][2025-03-20 14:49:02][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€
ã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:49:02][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:49:02][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ3vTuvgYYw6rZspeAgAMgAw==', 'at_list': [], 'content': 'æœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1552', 'receiver': '7881300831231229', 'send_time': '1742453342', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007847'}, 'type': 11041}
[DEBUG][2025-03-20 14:49:02][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 14:52:08][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'B6yi5j4aRdy6FZ_', 'at_list': [], 'content': 'æˆ‘æ˜¯41', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 0, 'local_id': '1553', 'receiver': '1688856140600643', 'send_time': '1742453528', 'sender': '7881301484007993', 'sender_name': '41', 'server_id': '1007864'}, 'type': 11041}
[DEBUG][2025-03-20 14:52:08][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:52:08][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:52:08][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 19036, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:52:08][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 14:52:08][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742453528, ctype=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:52:10][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:52:10][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "B6yi5j4aRdy6FZ_", "at_list": [], "content": "æˆ‘æ˜¯41", "content_type": 2, "conversation_id": "S:1688856140600643_7881301484007993", "is_pc": 0, "local_id": "1553", "receiver": "1688856140600643", "send_time": "1742453528", "sender": "7881301484007993", "sender_name": "41", "server_id": "1007864"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742453528, ctype=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:52:10][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301484007993 wait for 7 seconds.
[DEBUG][2025-03-20 14:52:10][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[ERROR][2025-03-20 14:52:13][wecommix_channel.py:523] - ä¼ä¸šå¾®ä¿¡SikuliXWorkerå‡ºç°å¼‚å¸¸: FindFailed: D:\Program\WangLongAI-dev\lib\sikulix\wecommix\finish-verify.png: (281x51) seen at (879, 645) with 1.00 in R[0,0 1920x1080]@S(0)
  Line 2226, in file Region.java

[DEBUG][2025-03-20 14:52:17][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000024881A5CC70>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 14:52:17][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000024881A5CC70>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 14:52:17][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}]
[INFO][2025-03-20 14:52:17][bytedance_coze_bot.py:41] - [COZE] query=[{'41': 'æˆ‘æ˜¯41'}]
[DEBUG][2025-03-20 14:52:17][bytedance_coze_bot.py:56] - [COZE] user_id=41
[DEBUG][2025-03-20 14:52:17][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x00000248C44920E0> query=[{'41': 'æˆ‘æ˜¯41'}]
[DEBUG][2025-03-20 14:52:31][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\'41\\': \\'æˆ‘æ˜¯41\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ)
[DEBUG][2025-03-20 14:52:31][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\'41\\': \\'æˆ‘æ˜¯41\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ), context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000024881A5CC70>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x00000248BF870580>})
[DEBUG][2025-03-20 14:52:31][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000024881A5CC70>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x00000248BF870580>})
[DEBUG][2025-03-20 14:52:31][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 14:52:31][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\'41\\': \\'æˆ‘æ˜¯41\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ), receiver=S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 14:52:31][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 14:52:52][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '7957770092482380529', 'at_list': [], 'content': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 0, 'local_id': '1556', 'receiver': '1688856140600643', 'send_time': '1742453571', 'sender': '7881301484007993', 'sender_name': '41', 'server_id': '1007875'}, 'type': 11041}
[DEBUG][2025-03-20 14:52:52][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:52:52][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:52:52][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 19036, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:52:52][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 14:52:52][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742453571, ctype=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:52:53][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:52:53][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "7957770092482380529", "at_list": [], "content": "ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½", "content_type": 2, "conversation_id": "S:1688856140600643_7881301484007993", "is_pc": 0, "local_id": "1556", "receiver": "1688856140600643", "send_time": "1742453571", "sender": "7881301484007993", "sender_name": "41", "server_id": "1007875"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742453571, ctype=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:52:53][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301484007993 wait for 7 seconds.
[DEBUG][2025-03-20 14:52:53][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:53:00][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000024881A5C2E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 14:53:00][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000024881A5C2E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 14:53:00][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[INFO][2025-03-20 14:53:00][bytedance_coze_bot.py:41] - [COZE] query=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[DEBUG][2025-03-20 14:53:00][bytedance_coze_bot.py:56] - [COZE] user_id=41
[DEBUG][2025-03-20 14:53:00][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x00000248C44920E0> query=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[DEBUG][2025-03-20 14:53:23][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=è€æ¿ï¼Œæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¯ä¸°å¯Œå•¦ï¼å®ƒå…·å¤‡æ™ºèƒ½çº¿ç´¢ç”ŸæˆåŠŸèƒ½ï¼Œèƒ½å¤Ÿä»æµ·é‡æ•°æ®ä¸­ç²¾å‡†æŒ–æ˜æ½œåœ¨å®¢æˆ·çº¿ç´¢ï¼Œå¤§å¤§èŠ‚çœæ‚¨å¯»æ‰¾æ½œåœ¨å®¢æˆ·çš„æ—¶é—´å’Œç²¾åŠ›ã€‚

è¿˜æœ‰æ™ºèƒ½å®¢æˆ·ç”»åƒåŠŸèƒ½ï¼Œèƒ½æ ¹æ®å®¢æˆ·çš„å„ç§è¡Œä¸ºå’Œä¿¡æ¯ï¼Œå…¨æ–¹ä½ä¸ºæ‚¨å‹¾å‹’å‡ºæ¸…æ™°çš„å®¢æˆ·ç”»åƒï¼Œè®©æ‚¨æ›´äº†è§£å®¢æˆ·éœ€æ±‚ã€‚

åœ¨é”€å”®æ²Ÿé€šç¯èŠ‚ï¼Œå®ƒæœ‰æ™ºèƒ½è¯æœ¯æ¨èï¼Œåœ¨æ‚¨ä¸å®¢æˆ·äº¤æµæ—¶ï¼Œèƒ½å®æ—¶ç»™å‡ºåˆé€‚çš„å›å¤è¯æœ¯å»ºè®®ï¼Œæå‡æ²Ÿé€šæ•ˆæœã€‚

å¦å¤–ï¼Œè½¯ä»¶çš„æ™ºèƒ½æ•°æ®åˆ†æåŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œèƒ½æ·±åº¦åˆ†æé”€å”®æ•°æ®ï¼Œæ¯”å¦‚é”€å”®è¶‹åŠ¿ã€å®¢æˆ·è½¬åŒ–ç‡ç­‰ï¼Œå¸®æ‚¨æ¸…æ™°æŠŠæ¡é”€å”®ä¸šåŠ¡çŠ¶å†µï¼Œä»¥ä¾¿åŠæ—¶è°ƒæ•´é”€å”®ç­–ç•¥ï¼ŒåŠ©åŠ›é”€å”®ä¸šç»©å¢é•¿å‘¢ã€‚)
[DEBUG][2025-03-20 14:53:23][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=è€æ¿ï¼Œæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¯ä¸°å¯Œå•¦ï¼å®ƒå…·å¤‡æ™ºèƒ½çº¿ç´¢ç”ŸæˆåŠŸèƒ½ï¼Œèƒ½å¤Ÿä»æµ·é‡æ•°æ®ä¸­ç²¾å‡†æŒ–æ˜æ½œåœ¨å®¢æˆ·çº¿ç´¢ï¼Œå¤§å¤§èŠ‚çœæ‚¨å¯»æ‰¾æ½œåœ¨å®¢æˆ·çš„æ—¶é—´å’Œç²¾åŠ›ã€‚

è¿˜æœ‰æ™ºèƒ½å®¢æˆ·ç”»åƒåŠŸèƒ½ï¼Œèƒ½æ ¹æ®å®¢æˆ·çš„å„ç§è¡Œä¸ºå’Œä¿¡æ¯ï¼Œå…¨æ–¹ä½ä¸ºæ‚¨å‹¾å‹’å‡ºæ¸…æ™°çš„å®¢æˆ·ç”»åƒï¼Œè®©æ‚¨æ›´äº†è§£å®¢æˆ·éœ€æ±‚ã€‚

åœ¨é”€å”®æ²Ÿé€šç¯èŠ‚ï¼Œå®ƒæœ‰æ™ºèƒ½è¯æœ¯æ¨èï¼Œåœ¨æ‚¨ä¸å®¢æˆ·äº¤æµæ—¶ï¼Œèƒ½å®æ—¶ç»™å‡ºåˆé€‚çš„å›å¤è¯æœ¯å»ºè®®ï¼Œæå‡æ²Ÿé€šæ•ˆæœã€‚

å¦å¤–ï¼Œè½¯ä»¶çš„æ™ºèƒ½æ•°æ®åˆ†æåŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œèƒ½æ·±åº¦åˆ†æé”€å”®æ•°æ®ï¼Œæ¯”å¦‚é”€å”®è¶‹åŠ¿ã€å®¢æˆ·è½¬åŒ–ç‡ç­‰ï¼Œå¸®æ‚¨æ¸…æ™°æŠŠæ¡é”€å”®ä¸šåŠ¡çŠ¶å†µï¼Œä»¥ä¾¿åŠæ—¶è°ƒæ•´é”€å”®ç­–ç•¥ï¼ŒåŠ©åŠ›é”€å”®ä¸šç»©å¢é•¿å‘¢ã€‚), context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000024881A5C2E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x00000248BF870580>})
[DEBUG][2025-03-20 14:53:23][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000024881A5C2E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x00000248BF870580>})
[DEBUG][2025-03-20 14:53:23][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 14:53:23][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=è€æ¿ï¼Œæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¯ä¸°å¯Œå•¦ï¼å®ƒå…·å¤‡æ™ºèƒ½çº¿ç´¢ç”ŸæˆåŠŸèƒ½ï¼Œèƒ½å¤Ÿä»æµ·é‡æ•°æ®ä¸­ç²¾å‡†æŒ–æ˜æ½œåœ¨å®¢æˆ·çº¿ç´¢ï¼Œå¤§å¤§èŠ‚çœæ‚¨å¯»æ‰¾æ½œåœ¨å®¢æˆ·çš„æ—¶é—´å’Œç²¾åŠ›ã€‚

è¿˜æœ‰æ™ºèƒ½å®¢æˆ·ç”»åƒåŠŸèƒ½ï¼Œèƒ½æ ¹æ®å®¢æˆ·çš„å„ç§è¡Œä¸ºå’Œä¿¡æ¯ï¼Œå…¨æ–¹ä½ä¸ºæ‚¨å‹¾å‹’å‡ºæ¸…æ™°çš„å®¢æˆ·ç”»åƒï¼Œè®©æ‚¨æ›´äº†è§£å®¢æˆ·éœ€æ±‚ã€‚

åœ¨é”€å”®æ²Ÿé€šç¯èŠ‚ï¼Œå®ƒæœ‰æ™ºèƒ½è¯æœ¯æ¨èï¼Œåœ¨æ‚¨ä¸å®¢æˆ·äº¤æµæ—¶ï¼Œèƒ½å®æ—¶ç»™å‡ºåˆé€‚çš„å›å¤è¯æœ¯å»ºè®®ï¼Œæå‡æ²Ÿé€šæ•ˆæœã€‚

å¦å¤–ï¼Œè½¯ä»¶çš„æ™ºèƒ½æ•°æ®åˆ†æåŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œèƒ½æ·±åº¦åˆ†æé”€å”®æ•°æ®ï¼Œæ¯”å¦‚é”€å”®è¶‹åŠ¿ã€å®¢æˆ·è½¬åŒ–ç‡ç­‰ï¼Œå¸®æ‚¨æ¸…æ™°æŠŠæ¡é”€å”®ä¸šåŠ¡çŠ¶å†µï¼Œä»¥ä¾¿åŠæ—¶è°ƒæ•´é”€å”®ç­–ç•¥ï¼ŒåŠ©åŠ›é”€å”®ä¸šç»©å¢é•¿å‘¢ã€‚), receiver=S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 14:53:23][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301484007993
[INFO][2025-03-20 14:54:02][config.py:361] - [Config] Configuration saved.
[DEBUG][2025-03-20 14:54:02][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:54:02][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:54:02][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}, 'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]}}
[DEBUG][2025-03-20 14:54:10][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:54:10][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:54:10][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}, 'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]}}
[DEBUG][2025-03-20 14:54:10][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 14:54:10][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 14:54:11][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 14:54:12][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 14:54:12][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:54:42][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:54:42][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 14:54:44][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 14:54:53][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '783090785721340445', 'at_list': [], 'content': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 0, 'local_id': '1557', 'receiver': '1688856140600643', 'send_time': '1742453692', 'sender': '7881301484007993', 'sender_name': '41', 'server_id': '1007880'}, 'type': 11041}
[DEBUG][2025-03-20 14:54:53][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:54:53][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:54:53][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 19036, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:54:53][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 14:54:53][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742453692, ctype=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:54:54][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:54:54][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "783090785721340445", "at_list": [], "content": "ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½", "content_type": 2, "conversation_id": "S:1688856140600643_7881301484007993", "is_pc": 0, "local_id": "1557", "receiver": "1688856140600643", "send_time": "1742453692", "sender": "7881301484007993", "sender_name": "41", "server_id": "1007880"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742453692, ctype=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:54:54][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301484007993 wait for 7 seconds.
[DEBUG][2025-03-20 14:54:54][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:55:01][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000135A6C92290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 14:55:01][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x00000135A6C92290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 14:55:01][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[INFO][2025-03-20 14:55:01][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 14:55:01][bytedance_coze_bot.py:41] - [COZE] query=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[DEBUG][2025-03-20 14:55:01][bytedance_coze_bot.py:56] - [COZE] user_id=41
[DEBUG][2025-03-20 14:55:01][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x00000135A6C92E30> query=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[ERROR][2025-03-20 14:55:02][chat_channel.py:414] - Worker return exception: code: 4015, msg: The bot_id 7483771960313888820 has not been published to the channel Agent As API. Please refer to the "Publish" section of the documentation at https://www.coze.cn/docs/guides to publish your Bot to the corresponding channel., logid: 20250320145502F804764F00F42DBBCA53
Traceback (most recent call last):
  File "C:\Users\é¾™å´ç›ˆå­\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "D:\Program\WangLongAI-dev\channel\chat_channel.py", line 218, in _handle
    reply = self._generate_reply(context)  # replyçš„æ„å»ºæ­¥éª¤
  File "D:\Program\WangLongAI-dev\channel\chat_channel.py", line 247, in _generate_reply
    reply = super().build_reply_content(context.content, context)
  File "D:\Program\WangLongAI-dev\channel\channel.py", line 38, in build_reply_content
    return Bridge().fetch_reply_content(query, context)
  File "D:\Program\WangLongAI-dev\bridge\bridge.py", line 88, in fetch_reply_content
    return self.get_bot("chat").reply(query, context)
  File "D:\Program\WangLongAI-dev\bot\bytedance\bytedance_coze_bot.py", line 60, in reply
    reply, err = self._reply(query, session, context)
  File "D:\Program\WangLongAI-dev\bot\bytedance\bytedance_coze_bot.py", line 72, in _reply
    messages = chat_client.create_chat_message(
  File "D:\Program\WangLongAI-dev\bot\bytedance\coze_client.py", line 42, in create_chat_message
    return self._send_chat(bot_id, session.get_user_id(), additional_messages, session)
  File "D:\Program\WangLongAI-dev\bot\bytedance\coze_client.py", line 26, in _send_chat
    chat_poll = self.coze.chat.create_and_poll(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\chat\__init__.py", line 498, in create_and_poll
    chat = self.create(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\chat\__init__.py", line 417, in create
    return self._create(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\chat\__init__.py", line 578, in _create
    return self._requester.request(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\request.py", line 191, in request
    return self.send(request)
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\request.py", line 200, in send
    return self._parse_response(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\request.py", line 364, in _parse_response
    raise CozeAPIError(code, msg, logid)
cozepy.exception.CozeAPIError: code: 4015, msg: The bot_id 7483771960313888820 has not been published to the channel Agent As API. Please refer to the "Publish" section of the documentation at https://www.coze.cn/docs/guides to publish your Bot to the corresponding channel., logid: 20250320145502F804764F00F42DBBCA53
[DEBUG][2025-03-20 14:56:01][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:56:01][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:56:01][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}, 'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]}}
[DEBUG][2025-03-20 14:56:01][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 14:56:01][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 14:56:02][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 14:56:03][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 14:56:03][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[WARNING][2025-03-20 14:56:33][wecommix_channel.py:208] - è·å–æ•°æ®å¤±è´¥ï¼Œé‡è¯•ç¬¬1æ¬¡Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:56:38][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:56:38][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[DEBUG][2025-03-20 14:56:50][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:56:50][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:56:50][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}, 'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]}}
[DEBUG][2025-03-20 14:56:59][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:56:59][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:56:59][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}, 'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]}}
[DEBUG][2025-03-20 14:56:59][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 14:56:59][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 14:56:59][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 14:57:01][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 14:57:01][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:57:32][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:57:32][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 14:57:33][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 14:57:35][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '6877588898890651164', 'at_list': [], 'content': 'ä½ å¥½', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1558', 'receiver': '1688856140600643', 'send_time': '1742453853', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007890'}, 'type': 11041}
[DEBUG][2025-03-20 14:57:35][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:57:35][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:57:35][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 18156, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:57:35][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:57:35][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742453853, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:57:36][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:57:36][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "6877588898890651164", "at_list": [], "content": "ä½ å¥½", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1558", "receiver": "1688856140600643", "send_time": "1742453853", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007890"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742453853, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:57:36][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 7 seconds.
[DEBUG][2025-03-20 14:57:36][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:57:43][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000026339172290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 14:57:43][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000026339172290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 14:57:43][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]
[INFO][2025-03-20 14:57:43][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 14:57:43][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]
[DEBUG][2025-03-20 14:57:43][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 14:57:43][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x0000026339172E30> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]
[ERROR][2025-03-20 14:57:44][chat_channel.py:414] - Worker return exception: code: 4015, msg: The bot_id 7483771960313888820 has not been published to the channel Agent As API. Please refer to the "Publish" section of the documentation at https://www.coze.cn/docs/guides to publish your Bot to the corresponding channel., logid: 20250320145744224D5AAE20F097328026
Traceback (most recent call last):
  File "C:\Users\é¾™å´ç›ˆå­\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "D:\Program\WangLongAI-dev\channel\chat_channel.py", line 218, in _handle
    reply = self._generate_reply(context)  # replyçš„æ„å»ºæ­¥éª¤
  File "D:\Program\WangLongAI-dev\channel\chat_channel.py", line 247, in _generate_reply
    reply = super().build_reply_content(context.content, context)
  File "D:\Program\WangLongAI-dev\channel\channel.py", line 38, in build_reply_content
    return Bridge().fetch_reply_content(query, context)
  File "D:\Program\WangLongAI-dev\bridge\bridge.py", line 88, in fetch_reply_content
    return self.get_bot("chat").reply(query, context)
  File "D:\Program\WangLongAI-dev\bot\bytedance\bytedance_coze_bot.py", line 60, in reply
    reply, err = self._reply(query, session, context)
  File "D:\Program\WangLongAI-dev\bot\bytedance\bytedance_coze_bot.py", line 72, in _reply
    messages = chat_client.create_chat_message(
  File "D:\Program\WangLongAI-dev\bot\bytedance\coze_client.py", line 42, in create_chat_message
    return self._send_chat(bot_id, session.get_user_id(), additional_messages, session)
  File "D:\Program\WangLongAI-dev\bot\bytedance\coze_client.py", line 26, in _send_chat
    chat_poll = self.coze.chat.create_and_poll(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\chat\__init__.py", line 498, in create_and_poll
    chat = self.create(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\chat\__init__.py", line 417, in create
    return self._create(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\chat\__init__.py", line 578, in _create
    return self._requester.request(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\request.py", line 191, in request
    return self.send(request)
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\request.py", line 200, in send
    return self._parse_response(
  File "D:\Program\0-venv\dow310_env\lib\site-packages\cozepy\request.py", line 364, in _parse_response
    raise CozeAPIError(code, msg, logid)
cozepy.exception.CozeAPIError: code: 4015, msg: The bot_id 7483771960313888820 has not been published to the channel Agent As API. Please refer to the "Publish" section of the documentation at https://www.coze.cn/docs/guides to publish your Bot to the corresponding channel., logid: 20250320145744224D5AAE20F097328026
[INFO][2025-03-20 14:58:22][config.py:361] - [Config] Configuration saved.
[DEBUG][2025-03-20 14:58:22][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:58:22][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:58:22][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}, 'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]}}
[DEBUG][2025-03-20 14:58:30][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 14:58:30][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 14:58:30][config.py:275] - [Config] User datas loaded.{'wxid_j9m9a65vqqvc22': {'history': [{'ä½•é¢‚ç”Ÿ': 'å°é”¦ï¼Ÿ'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—'}, {'ä½•é¢‚ç”Ÿ': 'åœ¨å—å°é”¦'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': 'ä½ å¥½'}, {'ä½•é¢‚ç”Ÿ': '1'}]}, 'S:1688856140600643_7881301329925698': {'history': [{'Marco Wang': 'æˆ‘æ˜¯Marco Wang'}, {'assistant': 'ã€Œå“‡ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ Marco Wang~ä½ å¥½å‘€ğŸ˜Š ä¸çŸ¥é“ä½ æ˜¯ä¸æ˜¯æƒ³è¦äº†è§£AIé”€å”®è½¯ä»¶å‘¢ğŸ§ã€'}, {'Marco Wang': 'ä½ å¥½'}, {'Marco Wang': 'è½¯ä»¶æœ‰å“ªäº›åŠŸèƒ½å‘¢?'}, {'assistant': 'ã€Œä½ å¥½å‘€Marco WangğŸ¥° ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·~æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…æƒ³å’Œæˆ‘åˆ†äº«åˆ†äº«ğŸ˜„ã€'}, {'assistant': 'ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸š~æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®ã€‚ã€\nã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœé”€å”®é‡å¤åŠ¨ä½œã€‚ã€\nã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å›¾ç‰‡å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰ã€‚ã€ğŸ˜'}, {'Marco Wang': 'ä»·æ ¼æ€ä¹ˆå®šå‘¢'}]}, 'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]}}
[DEBUG][2025-03-20 14:58:30][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 14:58:30][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 14:58:31][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 14:58:32][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 14:58:32][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:59:02][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 14:59:02][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 14:59:03][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 14:59:08][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '5190429283429959405', 'at_list': [], 'content': 'ä½ å¥½', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1559', 'receiver': '1688856140600643', 'send_time': '1742453946', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007893'}, 'type': 11041}
[DEBUG][2025-03-20 14:59:08][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 14:59:08][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 14:59:08][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 18156, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 14:59:08][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:59:08][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742453946, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 14:59:10][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:59:10][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "5190429283429959405", "at_list": [], "content": "ä½ å¥½", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1559", "receiver": "1688856140600643", "send_time": "1742453946", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007893"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742453946, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 14:59:10][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 7 seconds.
[DEBUG][2025-03-20 14:59:10][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 14:59:17][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001F417492290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 14:59:17][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001F417492290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 14:59:17][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]
[INFO][2025-03-20 14:59:17][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 14:59:17][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]
[DEBUG][2025-03-20 14:59:17][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 14:59:17][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001F417492E60> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]
[DEBUG][2025-03-20 14:59:34][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œæ‚¨å¥½å‘€~å’±ä»¬å¿ƒå¹³æ°”å’ŒèŠèŠè€¶ã€
ã€Œæ‚¨æƒ³äº†è§£æœ›é¾™è½¯ä»¶å“ªäº›å†…å®¹ï¼Ÿã€)
[DEBUG][2025-03-20 14:59:34][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œæ‚¨å¥½å‘€~å’±ä»¬å¿ƒå¹³æ°”å’ŒèŠèŠè€¶ã€
ã€Œæ‚¨æƒ³äº†è§£æœ›é¾™è½¯ä»¶å“ªäº›å†…å®¹ï¼Ÿã€), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001F417492290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001F4128F0580>})
[DEBUG][2025-03-20 14:59:34][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'è€æ¿æ‚¨å¥½å‘€ï¼çœ‹æ¥æ‚¨æåˆ°äº†â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€ï¼Œæ˜¯åœ¨æœ›é¾™è¿™ä¸ªè½¯ä»¶æ–¹é¢æœ‰ä»€ä¹ˆç–‘é—®æˆ–è€…éœ€æ±‚å—ï¼Ÿå¯ä»¥è·Ÿæˆ‘è¯´è¯´ï¼Œæˆ‘ä»¬è¿™è¾¹çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½å¼ºå¤§åˆå®ç”¨å“¦ï¼Œè¯´ä¸å®šèƒ½å¾ˆå¥½åœ°æ»¡è¶³æ‚¨ä¸šåŠ¡ä¸Šçš„éœ€è¦å‘¢ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ²¡å›å¤å‘¢'}, {'assistant': 'å®åœ¨ä¸å¥½æ„æ€è®©æ‚¨ä¹…ç­‰å•¦è€æ¿ï¼åˆšåˆšå¯èƒ½æ¶ˆæ¯ä¼ é€’æœ‰ç‚¹å»¶è¿Ÿã€‚æ‚¨å…·ä½“æ˜¯æƒ³äº†è§£â€œæœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰â€çš„å“ªäº›æ–¹é¢å‘€ï¼Œæ¯”å¦‚åŠŸèƒ½ç‰¹æ€§ã€æ“ä½œæ–¹æ³•ï¼Œè¿˜æ˜¯ä»·æ ¼ä¹‹ç±»çš„ï¼Œæ‚¨å°½ç®¡è¯´ï¼Œæˆ‘ä¸€å®šè¯¦ç»†ç»™æ‚¨è§£ç­”ã€‚'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ çš„æ‹¬å·å‘¢è‰æ³¥é©¬'}, {'assistant': 'ã€Œè¯·æ‚¨åˆ«ç”Ÿæ°”å‘€ï¼Œæ¶ˆæ¶ˆæ°”ğŸ˜Ÿã€\nã€Œæœ‰ä»€ä¹ˆéœ€æ±‚å¥½å¥½æ²Ÿé€šå˜›~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001F417492290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001F4128F0580>})
[DEBUG][2025-03-20 14:59:34][wecommix_channel.py:317] - match: None
[DEBUG][2025-03-20 14:59:35][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ1/nuvgYYw6rZspeAgAMgAQ==', 'at_list': [], 'content': 'æ‚¨å¥½å‘€~å’±ä»¬å¿ƒå¹³æ°”å’ŒèŠèŠè€¶', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1560', 'receiver': '7881300831231229', 'send_time': '1742453975', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007896'}, 'type': 11041}
[DEBUG][2025-03-20 14:59:35][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[INFO][2025-03-20 14:59:36][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œæ‚¨å¥½å‘€~å’±ä»¬å¿ƒå¹³æ°”å’ŒèŠèŠè€¶ã€
ã€Œæ‚¨æƒ³äº†è§£æœ›é¾™è½¯ä»¶å“ªäº›å†…å®¹ï¼Ÿã€), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:59:36][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 14:59:36][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ2PnuvgYYw6rZspeAgAMgAg==', 'at_list': [], 'content': 'æ‚¨æƒ³äº†è§£æœ›é¾™è½¯ä»¶å“ªäº›å†…å®¹ï¼Ÿ', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1561', 'receiver': '7881300831231229', 'send_time': '1742453976', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007898'}, 'type': 11041}
[DEBUG][2025-03-20 14:59:36][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:00:24][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '9073754432263461829', 'at_list': [], 'content': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 0, 'local_id': '1562', 'receiver': '1688856140600643', 'send_time': '1742454023', 'sender': '7881301484007993', 'sender_name': '41', 'server_id': '1007900'}, 'type': 11041}
[DEBUG][2025-03-20 15:00:24][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:00:24][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:00:24][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 18156, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:00:24][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:00:24][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742454023, ctype=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:00:25][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:00:25][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "9073754432263461829", "at_list": [], "content": "ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½", "content_type": 2, "conversation_id": "S:1688856140600643_7881301484007993", "is_pc": 0, "local_id": "1562", "receiver": "1688856140600643", "send_time": "1742454023", "sender": "7881301484007993", "sender_name": "41", "server_id": "1007900"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742454023, ctype=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:00:25][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301484007993 wait for 7 seconds.
[DEBUG][2025-03-20 15:00:25][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:00:32][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001F48A9D5930>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 15:00:32][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001F48A9D5930>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 15:00:32][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[INFO][2025-03-20 15:00:32][bytedance_coze_bot.py:41] - [COZE] query=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[DEBUG][2025-03-20 15:00:32][bytedance_coze_bot.py:56] - [COZE] user_id=41
[DEBUG][2025-03-20 15:00:32][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001F417492380> query=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[DEBUG][2025-03-20 15:00:56][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=æˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½ååˆ†å¼ºå¤§å‘¢ã€‚é¦–å…ˆåœ¨å®¢æˆ·çº¿ç´¢æŒ–æ˜æ–¹é¢ï¼Œå®ƒå¯ä»¥é€šè¿‡å¤§æ•°æ®åˆ†æï¼Œä»æµ·é‡ä¿¡æ¯ä¸­ç²¾å‡†ç­›é€‰å‡ºæ½œåœ¨å®¢æˆ·ï¼Œå¤§å¤§æé«˜çº¿ç´¢è·å–çš„æ•ˆç‡å’Œè´¨é‡ã€‚

åœ¨å®¢æˆ·æ²Ÿé€šç¯èŠ‚ï¼Œèƒ½æ™ºèƒ½å›å¤å®¢æˆ·å¸¸è§é—®é¢˜ï¼Œéšæ—¶ä¿æŒä¸å®¢æˆ·çš„è‰¯å¥½äº’åŠ¨ï¼Œè€Œä¸”è¿˜èƒ½æ ¹æ®å®¢æˆ·çš„åé¦ˆè¿…é€Ÿè°ƒæ•´æ²Ÿé€šç­–ç•¥ã€‚

é”€å”®æ•°æ®åˆ†æä¹Ÿæ˜¯ä¸€å¤§äº®ç‚¹ï¼Œå®ƒèƒ½å¤Ÿè¯¦ç»†åˆ†æé”€å”®è¿‡ç¨‹ä¸­çš„å„é¡¹æ•°æ®ï¼Œæ¯”å¦‚é”€å”®è½¬åŒ–ç‡ã€å®¢æˆ·è´­ä¹°å‘¨æœŸç­‰ï¼Œå¸®æ‚¨æ·±åº¦æ´å¯Ÿé”€å”®æƒ…å†µï¼Œä¸ºåˆ¶å®šæ›´æœ‰æ•ˆçš„é”€å”®æ–¹æ¡ˆæä¾›ä¾æ®ã€‚

å¦å¤–ï¼Œè½¯ä»¶è¿˜å…·å¤‡æ™ºèƒ½è·Ÿè¿›æé†’åŠŸèƒ½ï¼Œä¸ä¼šè®©ä»»ä½•ä¸€ä¸ªæ½œåœ¨å®¢æˆ·å› ä¸ºé—å¿˜è€Œæµå¤±ï¼Œç¡®ä¿é”€å”®æµç¨‹çš„è¿è´¯æ€§å’Œé«˜æ•ˆæ€§ ã€‚è¿™äº›åŠŸèƒ½æ˜¯ä¸æ˜¯å¾ˆå®ç”¨å‘¢ï¼Ÿ)
[DEBUG][2025-03-20 15:00:56][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=æˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½ååˆ†å¼ºå¤§å‘¢ã€‚é¦–å…ˆåœ¨å®¢æˆ·çº¿ç´¢æŒ–æ˜æ–¹é¢ï¼Œå®ƒå¯ä»¥é€šè¿‡å¤§æ•°æ®åˆ†æï¼Œä»æµ·é‡ä¿¡æ¯ä¸­ç²¾å‡†ç­›é€‰å‡ºæ½œåœ¨å®¢æˆ·ï¼Œå¤§å¤§æé«˜çº¿ç´¢è·å–çš„æ•ˆç‡å’Œè´¨é‡ã€‚

åœ¨å®¢æˆ·æ²Ÿé€šç¯èŠ‚ï¼Œèƒ½æ™ºèƒ½å›å¤å®¢æˆ·å¸¸è§é—®é¢˜ï¼Œéšæ—¶ä¿æŒä¸å®¢æˆ·çš„è‰¯å¥½äº’åŠ¨ï¼Œè€Œä¸”è¿˜èƒ½æ ¹æ®å®¢æˆ·çš„åé¦ˆè¿…é€Ÿè°ƒæ•´æ²Ÿé€šç­–ç•¥ã€‚

é”€å”®æ•°æ®åˆ†æä¹Ÿæ˜¯ä¸€å¤§äº®ç‚¹ï¼Œå®ƒèƒ½å¤Ÿè¯¦ç»†åˆ†æé”€å”®è¿‡ç¨‹ä¸­çš„å„é¡¹æ•°æ®ï¼Œæ¯”å¦‚é”€å”®è½¬åŒ–ç‡ã€å®¢æˆ·è´­ä¹°å‘¨æœŸç­‰ï¼Œå¸®æ‚¨æ·±åº¦æ´å¯Ÿé”€å”®æƒ…å†µï¼Œä¸ºåˆ¶å®šæ›´æœ‰æ•ˆçš„é”€å”®æ–¹æ¡ˆæä¾›ä¾æ®ã€‚

å¦å¤–ï¼Œè½¯ä»¶è¿˜å…·å¤‡æ™ºèƒ½è·Ÿè¿›æé†’åŠŸèƒ½ï¼Œä¸ä¼šè®©ä»»ä½•ä¸€ä¸ªæ½œåœ¨å®¢æˆ·å› ä¸ºé—å¿˜è€Œæµå¤±ï¼Œç¡®ä¿é”€å”®æµç¨‹çš„è¿è´¯æ€§å’Œé«˜æ•ˆæ€§ ã€‚è¿™äº›åŠŸèƒ½æ˜¯ä¸æ˜¯å¾ˆå®ç”¨å‘¢ï¼Ÿ), context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001F48A9D5930>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001F4128F0580>})
[DEBUG][2025-03-20 15:00:56][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'41': 'æˆ‘æ˜¯41'}, {'assistant': "è€æ¿æ‚¨å¥½å‘€ï¼Œä¸å¤ªæ˜ç™½æ‚¨è¯´çš„â€œ[{\\\\'41\\\\': \\\\'æˆ‘æ˜¯41\\\\'}]â€æ˜¯ä»€ä¹ˆæ„æ€å‘¢ã€‚å’±ä»¬å…ˆèŠèŠæˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶å§ï¼Œå®ƒèƒ½æå¤§æå‡é”€å”®æ•ˆç‡ï¼Œç²¾å‡†å®šä½å®¢æˆ·ï¼Œè¿˜èƒ½æ™ºèƒ½åˆ†æé”€å”®æ•°æ®ï¼Œä¸ºé”€å”®ç­–ç•¥æä¾›æœ‰åŠ›æ”¯æŒï¼Œæ‚¨æœ‰æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚å‘€ï¼Ÿ"}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'41': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001F48A9D5930>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001F4128F0580>})
[DEBUG][2025-03-20 15:00:56][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:00:56][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=æˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶åŠŸèƒ½ååˆ†å¼ºå¤§å‘¢ã€‚é¦–å…ˆåœ¨å®¢æˆ·çº¿ç´¢æŒ–æ˜æ–¹é¢ï¼Œå®ƒå¯ä»¥é€šè¿‡å¤§æ•°æ®åˆ†æï¼Œä»æµ·é‡ä¿¡æ¯ä¸­ç²¾å‡†ç­›é€‰å‡ºæ½œåœ¨å®¢æˆ·ï¼Œå¤§å¤§æé«˜çº¿ç´¢è·å–çš„æ•ˆç‡å’Œè´¨é‡ã€‚

åœ¨å®¢æˆ·æ²Ÿé€šç¯èŠ‚ï¼Œèƒ½æ™ºèƒ½å›å¤å®¢æˆ·å¸¸è§é—®é¢˜ï¼Œéšæ—¶ä¿æŒä¸å®¢æˆ·çš„è‰¯å¥½äº’åŠ¨ï¼Œè€Œä¸”è¿˜èƒ½æ ¹æ®å®¢æˆ·çš„åé¦ˆè¿…é€Ÿè°ƒæ•´æ²Ÿé€šç­–ç•¥ã€‚

é”€å”®æ•°æ®åˆ†æä¹Ÿæ˜¯ä¸€å¤§äº®ç‚¹ï¼Œå®ƒèƒ½å¤Ÿè¯¦ç»†åˆ†æé”€å”®è¿‡ç¨‹ä¸­çš„å„é¡¹æ•°æ®ï¼Œæ¯”å¦‚é”€å”®è½¬åŒ–ç‡ã€å®¢æˆ·è´­ä¹°å‘¨æœŸç­‰ï¼Œå¸®æ‚¨æ·±åº¦æ´å¯Ÿé”€å”®æƒ…å†µï¼Œä¸ºåˆ¶å®šæ›´æœ‰æ•ˆçš„é”€å”®æ–¹æ¡ˆæä¾›ä¾æ®ã€‚

å¦å¤–ï¼Œè½¯ä»¶è¿˜å…·å¤‡æ™ºèƒ½è·Ÿè¿›æé†’åŠŸèƒ½ï¼Œä¸ä¼šè®©ä»»ä½•ä¸€ä¸ªæ½œåœ¨å®¢æˆ·å› ä¸ºé—å¿˜è€Œæµå¤±ï¼Œç¡®ä¿é”€å”®æµç¨‹çš„è¿è´¯æ€§å’Œé«˜æ•ˆæ€§ ã€‚è¿™äº›åŠŸèƒ½æ˜¯ä¸æ˜¯å¾ˆå®ç”¨å‘¢ï¼Ÿ), receiver=S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:00:56][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:01:55][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:01:55][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:01:55][config.py:277] - [Config] User datas file not found, ignore.
[DEBUG][2025-03-20 15:02:04][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:02:04][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:02:04][config.py:277] - [Config] User datas file not found, ignore.
[DEBUG][2025-03-20 15:02:04][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 15:02:04][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 15:02:05][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 15:02:06][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 15:02:06][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:02:36][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:02:36][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 15:02:37][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 15:02:47][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '2230520931610670418', 'at_list': [], 'content': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1563', 'receiver': '1688856140600643', 'send_time': '1742454166', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007907'}, 'type': 11041}
[DEBUG][2025-03-20 15:02:47][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:02:47][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:02:47][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 18156, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:02:47][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:02:47][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742454166, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:02:49][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:02:49][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "2230520931610670418", "at_list": [], "content": "ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1563", "receiver": "1688856140600643", "send_time": "1742454166", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007907"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742454166, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:02:49][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 7 seconds.
[DEBUG][2025-03-20 15:02:49][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:02:56][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001E3E78C20B0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:02:56][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001E3E78C20B0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:02:56][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[INFO][2025-03-20 15:02:56][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 15:02:57][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[DEBUG][2025-03-20 15:02:57][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:02:57][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001E3E78C2BF0> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]
[DEBUG][2025-03-20 15:03:17][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=è€æ¿æ‚¨å¥½å‘€ï¼æˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶æœ›é¾™ï¼ˆAIé”€å”®ç‰ˆï¼‰åŠŸèƒ½å¯ä¸°å¯Œå•¦ã€‚å®ƒèƒ½å¤Ÿç²¾å‡†åœ°åˆ†æå®¢æˆ·æ•°æ®ï¼Œé€šè¿‡å¤§æ•°æ®å’Œæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæ·±åº¦æŒ–æ˜æ½œåœ¨å®¢æˆ·ç¾¤ä½“ï¼Œå¸®æ‚¨æ˜ç¡®ç›®æ ‡å®¢æˆ·ç‰¹å¾ ã€‚

åœ¨å®¢æˆ·æ²Ÿé€šæ–¹é¢ï¼Œå®ƒèƒ½è‡ªåŠ¨ç”Ÿæˆæ™ºèƒ½å›å¤è¯æœ¯ï¼Œæ— è®ºæ˜¯é‚®ä»¶ã€å³æ—¶é€šè®¯å·¥å…·ç­‰åœºæ™¯ï¼Œéƒ½èƒ½å¿«é€Ÿç»™å‡ºä¸“ä¸šä¸”å¾—ä½“çš„å›åº”ï¼Œå¤§å¤§æå‡æ²Ÿé€šæ•ˆç‡ã€‚ 

åŒæ—¶ï¼Œè¿˜å…·å¤‡é”€å”®æµç¨‹è‡ªåŠ¨åŒ–åŠŸèƒ½ï¼Œä»çº¿ç´¢è·Ÿè¿›åˆ°è®¢å•æˆäº¤ï¼Œå„ä¸ªç¯èŠ‚éƒ½èƒ½å®ç°è‡ªåŠ¨åŒ–æ¨è¿›ï¼ŒèŠ‚çœæ‚¨å¤§é‡æ—¶é—´å’Œç²¾åŠ›ã€‚ 

è€Œä¸”å¯ä»¥å®æ—¶ç›‘æµ‹é”€å”®æ•°æ®ï¼Œä¸ºæ‚¨ç”Ÿæˆè¯¦ç»†çš„é”€å”®æŠ¥è¡¨å’Œåˆ†æå›¾è¡¨ï¼Œè®©æ‚¨æ¸…æ™°äº†è§£é”€å”®ä¸šç»©å’Œä¸šåŠ¡è¶‹åŠ¿ï¼Œä»¥ä¾¿åŠæ—¶è°ƒæ•´é”€å”®ç­–ç•¥ ã€‚ æ‚¨çœ‹çœ‹å¯¹å“ªä¸ªåŠŸèƒ½æ¯”è¾ƒæ„Ÿå…´è¶£å‘¢ï¼Ÿ)
[DEBUG][2025-03-20 15:03:17][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=è€æ¿æ‚¨å¥½å‘€ï¼æˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶æœ›é¾™ï¼ˆAIé”€å”®ç‰ˆï¼‰åŠŸèƒ½å¯ä¸°å¯Œå•¦ã€‚å®ƒèƒ½å¤Ÿç²¾å‡†åœ°åˆ†æå®¢æˆ·æ•°æ®ï¼Œé€šè¿‡å¤§æ•°æ®å’Œæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæ·±åº¦æŒ–æ˜æ½œåœ¨å®¢æˆ·ç¾¤ä½“ï¼Œå¸®æ‚¨æ˜ç¡®ç›®æ ‡å®¢æˆ·ç‰¹å¾ ã€‚

åœ¨å®¢æˆ·æ²Ÿé€šæ–¹é¢ï¼Œå®ƒèƒ½è‡ªåŠ¨ç”Ÿæˆæ™ºèƒ½å›å¤è¯æœ¯ï¼Œæ— è®ºæ˜¯é‚®ä»¶ã€å³æ—¶é€šè®¯å·¥å…·ç­‰åœºæ™¯ï¼Œéƒ½èƒ½å¿«é€Ÿç»™å‡ºä¸“ä¸šä¸”å¾—ä½“çš„å›åº”ï¼Œå¤§å¤§æå‡æ²Ÿé€šæ•ˆç‡ã€‚ 

åŒæ—¶ï¼Œè¿˜å…·å¤‡é”€å”®æµç¨‹è‡ªåŠ¨åŒ–åŠŸèƒ½ï¼Œä»çº¿ç´¢è·Ÿè¿›åˆ°è®¢å•æˆäº¤ï¼Œå„ä¸ªç¯èŠ‚éƒ½èƒ½å®ç°è‡ªåŠ¨åŒ–æ¨è¿›ï¼ŒèŠ‚çœæ‚¨å¤§é‡æ—¶é—´å’Œç²¾åŠ›ã€‚ 

è€Œä¸”å¯ä»¥å®æ—¶ç›‘æµ‹é”€å”®æ•°æ®ï¼Œä¸ºæ‚¨ç”Ÿæˆè¯¦ç»†çš„é”€å”®æŠ¥è¡¨å’Œåˆ†æå›¾è¡¨ï¼Œè®©æ‚¨æ¸…æ™°äº†è§£é”€å”®ä¸šç»©å’Œä¸šåŠ¡è¶‹åŠ¿ï¼Œä»¥ä¾¿åŠæ—¶è°ƒæ•´é”€å”®ç­–ç•¥ ã€‚ æ‚¨çœ‹çœ‹å¯¹å“ªä¸ªåŠŸèƒ½æ¯”è¾ƒæ„Ÿå…´è¶£å‘¢ï¼Ÿ), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001E3E78C20B0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001E3E2D90580>})
[DEBUG][2025-03-20 15:03:17][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001E3E78C20B0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001E3E2D90580>})
[DEBUG][2025-03-20 15:03:17][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:03:17][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=è€æ¿æ‚¨å¥½å‘€ï¼æˆ‘ä»¬çš„AIé”€å”®è½¯ä»¶æœ›é¾™ï¼ˆAIé”€å”®ç‰ˆï¼‰åŠŸèƒ½å¯ä¸°å¯Œå•¦ã€‚å®ƒèƒ½å¤Ÿç²¾å‡†åœ°åˆ†æå®¢æˆ·æ•°æ®ï¼Œé€šè¿‡å¤§æ•°æ®å’Œæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæ·±åº¦æŒ–æ˜æ½œåœ¨å®¢æˆ·ç¾¤ä½“ï¼Œå¸®æ‚¨æ˜ç¡®ç›®æ ‡å®¢æˆ·ç‰¹å¾ ã€‚

åœ¨å®¢æˆ·æ²Ÿé€šæ–¹é¢ï¼Œå®ƒèƒ½è‡ªåŠ¨ç”Ÿæˆæ™ºèƒ½å›å¤è¯æœ¯ï¼Œæ— è®ºæ˜¯é‚®ä»¶ã€å³æ—¶é€šè®¯å·¥å…·ç­‰åœºæ™¯ï¼Œéƒ½èƒ½å¿«é€Ÿç»™å‡ºä¸“ä¸šä¸”å¾—ä½“çš„å›åº”ï¼Œå¤§å¤§æå‡æ²Ÿé€šæ•ˆç‡ã€‚ 

åŒæ—¶ï¼Œè¿˜å…·å¤‡é”€å”®æµç¨‹è‡ªåŠ¨åŒ–åŠŸèƒ½ï¼Œä»çº¿ç´¢è·Ÿè¿›åˆ°è®¢å•æˆäº¤ï¼Œå„ä¸ªç¯èŠ‚éƒ½èƒ½å®ç°è‡ªåŠ¨åŒ–æ¨è¿›ï¼ŒèŠ‚çœæ‚¨å¤§é‡æ—¶é—´å’Œç²¾åŠ›ã€‚ 

è€Œä¸”å¯ä»¥å®æ—¶ç›‘æµ‹é”€å”®æ•°æ®ï¼Œä¸ºæ‚¨ç”Ÿæˆè¯¦ç»†çš„é”€å”®æŠ¥è¡¨å’Œåˆ†æå›¾è¡¨ï¼Œè®©æ‚¨æ¸…æ™°äº†è§£é”€å”®ä¸šç»©å’Œä¸šåŠ¡è¶‹åŠ¿ï¼Œä»¥ä¾¿åŠæ—¶è°ƒæ•´é”€å”®ç­–ç•¥ ã€‚ æ‚¨çœ‹çœ‹å¯¹å“ªä¸ªåŠŸèƒ½æ¯”è¾ƒæ„Ÿå…´è¶£å‘¢ï¼Ÿ), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:03:17][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:05:25][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:05:25][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7480255258439057423', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:05:25][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]}}
[DEBUG][2025-03-20 15:05:33][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:05:33][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7480255258439057423', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 7, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:05:33][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}]}}
[DEBUG][2025-03-20 15:05:34][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 15:05:34][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 15:05:34][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 15:05:36][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 15:05:36][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:06:06][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:06:06][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 15:06:08][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 15:06:12][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '2408884928421123268', 'at_list': [], 'content': 'ä½ å¥½', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1564', 'receiver': '1688856140600643', 'send_time': '1742454371', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007915'}, 'type': 11041}
[DEBUG][2025-03-20 15:06:12][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:06:12][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:06:12][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 8636, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:06:12][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:06:12][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742454371, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:06:13][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:06:13][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "2408884928421123268", "at_list": [], "content": "ä½ å¥½", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1564", "receiver": "1688856140600643", "send_time": "1742454371", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007915"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742454371, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:06:13][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 7 seconds.
[DEBUG][2025-03-20 15:06:13][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:06:20][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A804961FF0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:06:20][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A804961FF0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:06:20][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]
[INFO][2025-03-20 15:06:20][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 15:06:21][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]
[DEBUG][2025-03-20 15:06:21][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:06:21][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001A804962B90> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}]
[DEBUG][2025-03-20 15:06:30][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€)
[DEBUG][2025-03-20 15:06:30][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A804961FF0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:06:30][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A804961FF0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:06:30][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:06:31][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:06:31][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:06:31][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ9/zuvgYYw6rZspeAgAMgAg==', 'at_list': [], 'content': 'å—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1565', 'receiver': '7881300831231229', 'send_time': '1742454391', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007920'}, 'type': 11041}
[DEBUG][2025-03-20 15:06:31][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:07:32][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '8643604208541635545', 'at_list': [], 'content': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 0, 'local_id': '1566', 'receiver': '1688856140600643', 'send_time': '1742454451', 'sender': '7881301484007993', 'sender_name': '41', 'server_id': '1007922'}, 'type': 11041}
[DEBUG][2025-03-20 15:07:32][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:07:32][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:07:32][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 8636, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:07:32][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:07:32][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742454451, ctype=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:07:34][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:07:34][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "8643604208541635545", "at_list": [], "content": "æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½", "content_type": 2, "conversation_id": "S:1688856140600643_7881301484007993", "is_pc": 0, "local_id": "1566", "receiver": "1688856140600643", "send_time": "1742454451", "sender": "7881301484007993", "sender_name": "41", "server_id": "1007922"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742454451, ctype=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:07:34][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301484007993 wait for 7 seconds.
[DEBUG][2025-03-20 15:07:34][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:07:41][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A804963940>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 15:07:41][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A804963940>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 15:07:41][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}]
[INFO][2025-03-20 15:07:41][bytedance_coze_bot.py:41] - [COZE] query=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}]
[DEBUG][2025-03-20 15:07:41][bytedance_coze_bot.py:56] - [COZE] user_id=41
[DEBUG][2025-03-20 15:07:41][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001A8049620E0> query=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}]
[DEBUG][2025-03-20 15:07:49][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€)
[DEBUG][2025-03-20 15:07:49][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€), context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A804963940>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:07:49][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A804963940>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:07:49][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:07:50][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€), receiver=S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:07:50][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:07:51][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQxv3uvgYYw6rZspeAgAMgAw==', 'at_list': [], 'content': 'å—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 1, 'local_id': '1567', 'receiver': '7881301484007993', 'send_time': '1742454471', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007925'}, 'type': 11041}
[DEBUG][2025-03-20 15:07:51][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:08:15][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '6329150701246585657', 'at_list': [], 'content': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 0, 'local_id': '1568', 'receiver': '1688856140600643', 'send_time': '1742454493', 'sender': '7881301484007993', 'sender_name': '41', 'server_id': '1007927'}, 'type': 11041}
[DEBUG][2025-03-20 15:08:15][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:08:15][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:08:15][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 8636, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:08:15][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:08:15][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742454493, ctype=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:08:17][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:08:17][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "6329150701246585657", "at_list": [], "content": "å¯ä»¥ä»‹ç»ä¸€ä¸‹å—", "content_type": 2, "conversation_id": "S:1688856140600643_7881301484007993", "is_pc": 0, "local_id": "1568", "receiver": "1688856140600643", "send_time": "1742454493", "sender": "7881301484007993", "sender_name": "41", "server_id": "1007927"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742454493, ctype=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:08:17][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301484007993 wait for 7 seconds.
[DEBUG][2025-03-20 15:08:17][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:08:24][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823864D0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 15:08:24][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823864D0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 15:08:24][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}]
[INFO][2025-03-20 15:08:24][bytedance_coze_bot.py:41] - [COZE] query=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}]
[DEBUG][2025-03-20 15:08:24][bytedance_coze_bot.py:56] - [COZE] user_id=41
[DEBUG][2025-03-20 15:08:24][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001A8049620E0> query=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}]
[DEBUG][2025-03-20 15:08:32][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€)
[DEBUG][2025-03-20 15:08:32][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€), context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823864D0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:08:32][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823864D0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:08:32][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:08:33][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€), receiver=S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:08:33][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:08:33][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ8f3uvgYYw6rZspeAgAMgBA==', 'at_list': [], 'content': 'ä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿ', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 1, 'local_id': '1569', 'receiver': '7881301484007993', 'send_time': '1742454513', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007930'}, 'type': 11041}
[DEBUG][2025-03-20 15:08:33][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:12:47][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '355998148612242929', 'at_list': [], 'content': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 0, 'local_id': '1570', 'receiver': '1688856140600643', 'send_time': '1742454766', 'sender': '7881301484007993', 'sender_name': '41', 'server_id': '1007932'}, 'type': 11041}
[DEBUG][2025-03-20 15:12:47][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:12:47][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:12:47][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 8636, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:12:47][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:12:47][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742454766, ctype=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:12:48][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:12:48][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "355998148612242929", "at_list": [], "content": "æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸", "content_type": 2, "conversation_id": "S:1688856140600643_7881301484007993", "is_pc": 0, "local_id": "1570", "receiver": "1688856140600643", "send_time": "1742454766", "sender": "7881301484007993", "sender_name": "41", "server_id": "1007932"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742454766, ctype=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:12:48][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301484007993 wait for 7 seconds.
[DEBUG][2025-03-20 15:12:48][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:12:55][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823845E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 15:12:55][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823845E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 15:12:55][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}]
[INFO][2025-03-20 15:12:55][bytedance_coze_bot.py:41] - [COZE] query=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}]
[DEBUG][2025-03-20 15:12:55][bytedance_coze_bot.py:56] - [COZE] user_id=41
[DEBUG][2025-03-20 15:12:55][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001A8049620E0> query=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}]
[DEBUG][2025-03-20 15:13:05][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€)
[DEBUG][2025-03-20 15:13:05][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€), context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823845E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:13:05][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823845E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:13:05][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:13:06][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€), receiver=S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:13:06][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:13:06][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQgoDvvgYYw6rZspeAgAMgBg==', 'at_list': [], 'content': 'å’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿ', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 1, 'local_id': '1571', 'receiver': '7881301484007993', 'send_time': '1742454786', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007937'}, 'type': 11041}
[DEBUG][2025-03-20 15:13:06][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:14:03][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '3588337535454522674', 'at_list': [], 'content': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1572', 'receiver': '1688856140600643', 'send_time': '1742454842', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007939'}, 'type': 11041}
[DEBUG][2025-03-20 15:14:03][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:14:03][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:14:03][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 8636, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:14:03][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:14:03][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742454842, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:14:04][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:14:04][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "3588337535454522674", "at_list": [], "content": "å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1572", "receiver": "1688856140600643", "send_time": "1742454842", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007939"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742454842, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:14:04][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 7 seconds.
[DEBUG][2025-03-20 15:14:04][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:14:07][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '3965291341306411987', 'at_list': [], 'content': '2äºº', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 0, 'local_id': '1573', 'receiver': '1688856140600643', 'send_time': '1742454846', 'sender': '7881301484007993', 'sender_name': '41', 'server_id': '1007942'}, 'type': 11041}
[DEBUG][2025-03-20 15:14:07][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:14:07][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:14:07][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 8636, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:14:07][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:14:07][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742454846, ctype=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:14:08][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:14:08][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "3965291341306411987", "at_list": [], "content": "2äºº", "content_type": 2, "conversation_id": "S:1688856140600643_7881301484007993", "is_pc": 0, "local_id": "1573", "receiver": "1688856140600643", "send_time": "1742454846", "sender": "7881301484007993", "sender_name": "41", "server_id": "1007942"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881301484007993, create_time=1742454846, ctype=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}], from_user_id=S:1688856140600643_7881301484007993, from_user_nickname=41, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881301484007993, other_user_nickname=41, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:14:08][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881301484007993 wait for 7 seconds.
[DEBUG][2025-03-20 15:14:08][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:14:11][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A882387F70>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:14:11][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A882387F70>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:14:11][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}]
[INFO][2025-03-20 15:14:11][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}]
[DEBUG][2025-03-20 15:14:11][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:14:11][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001A804962B90> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}]
[DEBUG][2025-03-20 15:14:16][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823859C0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 15:14:16][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823859C0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993'})
[DEBUG][2025-03-20 15:14:16][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}]
[INFO][2025-03-20 15:14:16][bytedance_coze_bot.py:41] - [COZE] query=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}]
[DEBUG][2025-03-20 15:14:16][bytedance_coze_bot.py:56] - [COZE] user_id=41
[DEBUG][2025-03-20 15:14:16][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001A8049620E0> query=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}]
[DEBUG][2025-03-20 15:14:22][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€)
[DEBUG][2025-03-20 15:14:22][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A882387F70>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:14:22][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A882387F70>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:14:22][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:14:23][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:14:23][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:14:23][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQz4DvvgYYw6rZspeAgAMgCA==', 'at_list': [], 'content': 'å¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1574', 'receiver': '7881300831231229', 'send_time': '1742454863', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007947'}, 'type': 11041}
[DEBUG][2025-03-20 15:14:23][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:14:31][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€)
[DEBUG][2025-03-20 15:14:31][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€), context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823859C0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:14:31][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8823859C0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881301484007993', 'receiver': 'S:1688856140600643_7881301484007993', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:14:31][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:14:32][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€), receiver=S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:14:32][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881301484007993
[DEBUG][2025-03-20 15:14:32][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ2IDvvgYYw6rZspeAgAMgCQ==', 'at_list': [], 'content': 'å¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881301484007993', 'is_pc': 1, 'local_id': '1575', 'receiver': '7881301484007993', 'send_time': '1742454872', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007949'}, 'type': 11041}
[DEBUG][2025-03-20 15:14:32][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:15:54][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '72129555689209424', 'at_list': [], 'content': '123456789', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1576', 'receiver': '1688856140600643', 'send_time': '1742454952', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007951'}, 'type': 11041}
[DEBUG][2025-03-20 15:15:54][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:15:54][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:15:54][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 8636, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:15:54][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:15:54][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742454952, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:15:55][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:15:55][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "72129555689209424", "at_list": [], "content": "123456789", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1576", "receiver": "1688856140600643", "send_time": "1742454952", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007951"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742454952, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:15:55][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 7 seconds.
[DEBUG][2025-03-20 15:15:55][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:16:02][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8049626E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:16:02][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8049626E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:16:02][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}]
[INFO][2025-03-20 15:16:02][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}]
[DEBUG][2025-03-20 15:16:02][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:16:02][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001A804962B90> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}]
[DEBUG][2025-03-20 15:16:06][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=<end>)
[DEBUG][2025-03-20 15:16:06][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=<end>), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8049626E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:16:06][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A8049626E0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:16:06][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:16:06][wecommix_channel.py:330] - æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰:S:1688856140600643_7881300831231229å¯¹è¯ç»“æŸï¼Œè½¬äººå·¥
[INFO][2025-03-20 15:16:06][wecommix_channel.py:396] - æ·»åŠ å¤‡æ³¨ä»»åŠ¡: {'user_nickname': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'status': 'end'}
[INFO][2025-03-20 15:16:06][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=<end>), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:16:06][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[INFO][2025-03-20 15:16:10][wecommix_channel.py:555] - Rename the customer to æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:17:05][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '3555332466250785181', 'at_list': [], 'content': '12233345667', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1577', 'receiver': '1688856140600643', 'send_time': '1742455024', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007960'}, 'type': 11041}
[DEBUG][2025-03-20 15:17:05][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:17:05][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:17:05][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 8636, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:17:05][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:17:05][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742455024, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:17:06][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:17:06][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "3555332466250785181", "at_list": [], "content": "12233345667", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1577", "receiver": "1688856140600643", "send_time": "1742455024", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007960"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742455024, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:17:06][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 7 seconds.
[DEBUG][2025-03-20 15:17:06][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:17:13][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A882384220>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:17:13][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A882384220>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:17:13][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}]
[INFO][2025-03-20 15:17:13][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}]
[DEBUG][2025-03-20 15:17:13][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:17:13][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001A804962B90> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}]
[DEBUG][2025-03-20 15:17:17][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=<end>)
[DEBUG][2025-03-20 15:17:17][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=<end>), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A882384220>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:17:17][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001A882384220>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001A87FE30580>})
[DEBUG][2025-03-20 15:17:17][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:17:17][wecommix_channel.py:330] - æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰:S:1688856140600643_7881300831231229å¯¹è¯ç»“æŸï¼Œè½¬äººå·¥
[INFO][2025-03-20 15:17:17][wecommix_channel.py:396] - æ·»åŠ å¤‡æ³¨ä»»åŠ¡: {'user_nickname': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'status': 'end'}
[INFO][2025-03-20 15:17:17][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=<end>), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:17:17][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[INFO][2025-03-20 15:17:19][wecommix_channel.py:555] - Rename the customer to æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[INFO][2025-03-20 15:23:07][config.py:361] - [Config] Configuration saved.
[DEBUG][2025-03-20 15:23:07][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:23:07][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7480255258439057423', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:23:07][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[INFO][2025-03-20 15:25:47][config.py:361] - [Config] Configuration saved.
[DEBUG][2025-03-20 15:25:47][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:25:47][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:25:47][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[DEBUG][2025-03-20 15:25:56][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:25:56][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': 'ç•™èµ„*****ç•™èµ„', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:25:56][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[DEBUG][2025-03-20 15:25:56][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 15:25:56][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 15:25:57][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 15:25:58][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 15:25:58][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:26:28][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:26:28][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 15:26:30][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 15:26:55][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '8177361155402710218', 'at_list': [], 'content': 'è¯´è¯', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1578', 'receiver': '1688856140600643', 'send_time': '1742455613', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007969'}, 'type': 11041}
[DEBUG][2025-03-20 15:26:55][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:26:55][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:26:55][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 8636, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:26:55][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:26:55][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742455613, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:26:56][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[INFO][2025-03-20 15:26:56][wecommix_channel.py:273] - æ£€æµ‹åˆ°äººå·¥å…³é”®è¯:03.20-02-ç•™èµ„æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰,è·³è¿‡å›å¤
[DEBUG][2025-03-20 15:26:56][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[INFO][2025-03-20 15:27:31][config.py:361] - [Config] Configuration saved.
[DEBUG][2025-03-20 15:27:31][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:27:31][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:27:31][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[DEBUG][2025-03-20 15:27:47][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:27:47][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:27:47][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[DEBUG][2025-03-20 15:27:47][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 15:27:47][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 15:27:48][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 15:27:49][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 15:27:49][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[WARNING][2025-03-20 15:28:19][wecommix_channel.py:208] - è·å–æ•°æ®å¤±è´¥ï¼Œé‡è¯•ç¬¬1æ¬¡Â·Â·Â·Â·Â·Â·
[DEBUG][2025-03-20 15:28:35][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:28:35][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:28:35][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[DEBUG][2025-03-20 15:28:44][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:28:44][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7483771960313888820', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:28:44][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[DEBUG][2025-03-20 15:28:44][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 15:28:44][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 15:28:44][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 15:28:53][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 15:28:53][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:29:23][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:29:23][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 15:29:25][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 15:29:53][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '5104292216061129202', 'at_list': [], 'content': 'è¯´è¯è¯´è¯', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1579', 'receiver': '1688856140600643', 'send_time': '1742455792', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007977'}, 'type': 11041}
[DEBUG][2025-03-20 15:29:53][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:29:53][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:29:53][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 5552, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:29:53][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:29:53][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742455792, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:29:55][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:29:55][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "5104292216061129202", "at_list": [], "content": "è¯´è¯è¯´è¯", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1579", "receiver": "1688856140600643", "send_time": "1742455792", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007977"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742455792, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:29:55][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 1 seconds.
[DEBUG][2025-03-20 15:29:55][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:29:56][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000012194D42080>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:29:56][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000012194D42080>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:29:56][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}]
[INFO][2025-03-20 15:29:56][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 15:29:56][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}]
[DEBUG][2025-03-20 15:29:56][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:29:56][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x0000012194D42C50> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}]
[DEBUG][2025-03-20 15:30:24][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=Failed: RPCError{PSM:[ocean.cloud.plugin] Method:[DoAction] ErrType:[RPC_STATUS_CODE_NOT_ZERO] OriginalErr:[<nil>] BizStatusCode:[702093204] BizStatusMessage:[run workflow failed err=RPCError{PSM:[ocean.cloud.workflow] Method:[RunFlow] ErrType:[RPC_STATUS_CODE_NOT_ZERO] OriginalErr:[<nil>] BizStatusCode:[720712044] BizStatusMessage:[[720712044] è¯·æ±‚http å¤±è´¥ï¼Œerr:Get "https://www.helloimg.com/api/v1/images": http: ContentLength=40 with Body length 0]}]})
[DEBUG][2025-03-20 15:30:24][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=Failed: RPCError{PSM:[ocean.cloud.plugin] Method:[DoAction] ErrType:[RPC_STATUS_CODE_NOT_ZERO] OriginalErr:[<nil>] BizStatusCode:[702093204] BizStatusMessage:[run workflow failed err=RPCError{PSM:[ocean.cloud.workflow] Method:[RunFlow] ErrType:[RPC_STATUS_CODE_NOT_ZERO] OriginalErr:[<nil>] BizStatusCode:[720712044] BizStatusMessage:[[720712044] è¯·æ±‚http å¤±è´¥ï¼Œerr:Get "https://www.helloimg.com/api/v1/images": http: ContentLength=40 with Body length 0]}]}), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000012194D42080>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x0000012190210580>})
[DEBUG][2025-03-20 15:30:24][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000012194D42080>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x0000012190210580>})
[DEBUG][2025-03-20 15:30:24][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:30:24][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=Failed: RPCError{PSM:[ocean.cloud.plugin] Method:[DoAction] ErrType:[RPC_STATUS_CODE_NOT_ZERO] OriginalErr:[<nil>] BizStatusCode:[702093204] BizStatusMessage:[run workflow failed err=RPCError{PSM:[ocean.cloud.workflow] Method:[RunFlow] ErrType:[RPC_STATUS_CODE_NOT_ZERO] OriginalErr:[<nil>] BizStatusCode:[720712044] BizStatusMessage:[[720712044] è¯·æ±‚http å¤±è´¥ï¼Œerr:Get "https://www.helloimg.com/api/v1/images": http: ContentLength=40 with Body length 0]}]}), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:30:24][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[INFO][2025-03-20 15:31:30][config.py:361] - [Config] Configuration saved.
[DEBUG][2025-03-20 15:31:30][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:31:30][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:31:30][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[INFO][2025-03-20 15:31:41][config.py:361] - [Config] Configuration saved.
[DEBUG][2025-03-20 15:31:41][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:31:41][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:31:41][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[DEBUG][2025-03-20 15:31:43][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:31:43][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:31:43][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[DEBUG][2025-03-20 15:31:43][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 15:31:43][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 15:31:43][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 15:31:45][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 15:31:45][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:32:15][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:32:15][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 15:32:17][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 15:32:18][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '6097026056087460829', 'at_list': [], 'content': '1', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1580', 'receiver': '1688856140600643', 'send_time': '1742455937', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007987'}, 'type': 11041}
[DEBUG][2025-03-20 15:32:18][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:32:18][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:32:18][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 7944, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:32:18][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:32:18][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742455937, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:32:19][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:32:19][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "6097026056087460829", "at_list": [], "content": "1", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1580", "receiver": "1688856140600643", "send_time": "1742455937", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1007987"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742455937, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:32:19][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 1 seconds.
[DEBUG][2025-03-20 15:32:19][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:32:20][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001EA535520B0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:32:20][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001EA535520B0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:32:20][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}]
[INFO][2025-03-20 15:32:20][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 15:32:21][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}]
[DEBUG][2025-03-20 15:32:21][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:32:21][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x000001EA53552C80> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}]
[DEBUG][2025-03-20 15:32:31][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}])
[DEBUG][2025-03-20 15:32:31][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}]), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001EA535520B0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001EA4EA40580>})
[DEBUG][2025-03-20 15:32:31][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x000001EA535520B0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x000001EA4EA40580>})
[DEBUG][2025-03-20 15:32:31][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:32:31][wecommix_channel.py:330] - æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰:S:1688856140600643_7881300831231229å¯¹è¯ç»“æŸï¼Œè½¬äººå·¥
[INFO][2025-03-20 15:32:31][wecommix_channel.py:396] - æ·»åŠ å¤‡æ³¨ä»»åŠ¡: {'user_nickname': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'status': 'end'}
[DEBUG][2025-03-20 15:32:32][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQkInvvgYYw6rZspeAgAMgAg==', 'at_list': [], 'content': 'å—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1581', 'receiver': '7881300831231229', 'send_time': '1742455952', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007992'}, 'type': 11041}
[DEBUG][2025-03-20 15:32:32][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[INFO][2025-03-20 15:32:33][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}]), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:32:33][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:32:33][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQkYnvvgYYw6rZspeAgAMgAw==', 'at_list': [], 'content': 'å¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1582', 'receiver': '7881300831231229', 'send_time': '1742455953', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1007994'}, 'type': 11041}
[DEBUG][2025-03-20 15:32:33][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[INFO][2025-03-20 15:32:34][wecommix_channel.py:555] - Rename the customer to æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:35:08][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:35:08][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:35:08][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰ä»€ä¹ˆåŠŸèƒ½'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ å¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'å¯¹ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººï¼Œä¸‹å‘¨å°±æ¥'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '123456789'}, {'assistant': '<end>'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '12233345667'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'è¯´è¯è¯´è¯'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': '1'}]}, 'S:1688856140600643_7881301484007993': {'history': [{'41': 'æœ€è¿‘å»å“ªæ—…æ¸¸æ¯”è¾ƒå¥½'}, {'assistant': 'ã€Œå—¨å–½ æ‚¨å¥½ï¼Œæ‚¨æ˜¯æ‰“ç®—è¿‘æœŸæ¥ä¸‰äºšç©å—?ã€'}, {'41': 'å¯ä»¥ä»‹ç»ä¸€ä¸‹å—'}, {'assistant': 'ã€Œä¸‰äºšæœ€è¿‘å¤©æ°”ç‰¹åˆ«å¥½å‘¢ï¼Œæ‚¨æ‰“ç®—ä»€ä¹ˆæ—¶å€™è¿‡æ¥äº«å—é˜³å…‰æµ·æ»©å‘€ï¼Ÿã€'}, {'41': 'æˆ‘æ‰“ç®—ä¸‹ä¸ªæœˆè¿‡æ¥æ—…æ¸¸'}, {'assistant': 'ã€Œå’Œäº²æœ‹å¥½å‹ä¸€èµ·è¿‡æ¥å—ï¼Ÿæ–¹ä¾¿è¯´è¯´å¤§çº¦å‡ ä½å‡ºè¡Œå—ï¼Ÿã€'}, {'41': '2äºº'}, {'assistant': 'ã€Œå¥½çš„ æ‚¨è¿™è¾¹æ–¹ä¾¿ç•™ä¸ªå¾®ä¿¡å·æˆ–è€…ç”µè¯ä¹ˆ?å› ä¸ºè¿™è¾¹ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡å·ï¼Œæ˜¯æ²¡åŠæ³•ç»™æ‚¨å‘å’±ä»¬çš„è¡Œç¨‹è·¯çº¿å’ŒæŠ¥ä»·ï¼Œå‘äº†æ‚¨ä¹Ÿæ˜¯çœ‹ä¸åˆ°ä¿¡æ¯çš„ã€'}]}}
[DEBUG][2025-03-20 15:36:39][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:36:39][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:36:39][config.py:277] - [Config] User datas file not found, ignore.
[DEBUG][2025-03-20 15:36:50][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 15:36:50][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 15:36:50][config.py:277] - [Config] User datas file not found, ignore.
[DEBUG][2025-03-20 15:36:50][audio_convert.py:10] - import pysilk failed, wechaty voice message will not be supported.
[WARNING][2025-03-20 15:36:50][audio_convert.py:15] - import pydub failed, wechat voice conversion will not be supported. Try: pip install pydub
[INFO][2025-03-20 15:36:51][wecommix_channel.py:226] - ç­‰å¾…ç™»é™†ä¼ä¸šå¾®ä¿¡
[INFO][2025-03-20 15:36:52][wecommix_channel.py:231] - ç™»å½•ä¿¡æ¯:>>>user_id:1688856140600643>>>>>>>>name:ä½•é¢‚ç”Ÿ
[INFO][2025-03-20 15:36:52][wecommix_channel.py:232] - é™é»˜å»¶è¿Ÿ30sï¼Œç­‰å¾…å®¢æˆ·ç«¯åˆ·æ–°æ•°æ®ï¼Œè¯·å‹¿è¿›è¡Œä»»ä½•æ“ä½œÂ·Â·Â·Â·Â·Â·
[DEBUG][2025-03-20 15:37:19][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '7560425667265326733', 'at_list': [], 'content': 'åœ¨', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1583', 'receiver': '1688856140600643', 'send_time': '1742456238', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1007998'}, 'type': 11041}
[INFO][2025-03-20 15:37:22][wecommix_channel.py:254] - weworkç¨‹åºåˆå§‹åŒ–å®ŒæˆÂ·Â·Â·Â·Â·Â·Â·Â·
[INFO][2025-03-20 15:37:22][wecommix_channel.py:475] - JVM path: C:\Program Files\Java\jdk-23\bin\server\jvm.dll, sikulix_jar_path:D:\Program\WangLongAI-dev\lib\sikulix\sikulixide-2.0.5-win.jar
[INFO][2025-03-20 15:37:23][wecommix_channel.py:513] - SikuliXWorker çº¿ç¨‹å·²å¯åŠ¨ï¼
[DEBUG][2025-03-20 15:37:26][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '4770462110814049757', 'at_list': [], 'content': 'åœ¨', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1584', 'receiver': '1688856140600643', 'send_time': '1742456245', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1008003'}, 'type': 11041}
[DEBUG][2025-03-20 15:37:26][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:37:26][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:37:26][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 7944, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:37:26][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:37:26][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742456245, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:37:27][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:37:27][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "4770462110814049757", "at_list": [], "content": "åœ¨", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1584", "receiver": "1688856140600643", "send_time": "1742456245", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1008003"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742456245, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:37:27][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 1 seconds.
[DEBUG][2025-03-20 15:37:27][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:37:28][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C49892290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:37:28][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C49892290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:37:28][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}]
[INFO][2025-03-20 15:37:28][bridge.py:73] - create bot coze for chat
[INFO][2025-03-20 15:37:29][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}]
[DEBUG][2025-03-20 15:37:29][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:37:29][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x0000023C49892E30> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}]
[DEBUG][2025-03-20 15:37:39][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€)
[DEBUG][2025-03-20 15:37:39][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C49892290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x0000023C44D60580>})
[DEBUG][2025-03-20 15:37:39][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C49892290>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x0000023C44D60580>})
[DEBUG][2025-03-20 15:37:39][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:37:40][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:37:40][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:37:40][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQxIvvvgYYw6rZspeAgAMgBg==', 'at_list': [], 'content': 'åœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1585', 'receiver': '7881300831231229', 'send_time': '1742456260', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1008008'}, 'type': 11041}
[DEBUG][2025-03-20 15:37:40][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:37:56][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '2703839059656451669', 'at_list': [], 'content': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1586', 'receiver': '1688856140600643', 'send_time': '1742456275', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1008010'}, 'type': 11041}
[DEBUG][2025-03-20 15:37:56][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:37:56][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:37:56][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 7944, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:37:56][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:37:56][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742456275, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:37:58][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:37:58][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "2703839059656451669", "at_list": [], "content": "ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1586", "receiver": "1688856140600643", "send_time": "1742456275", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1008010"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742456275, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:37:58][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 1 seconds.
[DEBUG][2025-03-20 15:37:58][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:37:59][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C49892E60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:37:59][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C49892E60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:37:59][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}]
[INFO][2025-03-20 15:37:59][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}]
[DEBUG][2025-03-20 15:37:59][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:37:59][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x0000023C49892E30> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}]
[DEBUG][2025-03-20 15:38:15][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€)
[DEBUG][2025-03-20 15:38:15][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C49892E60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x0000023C44D60580>})
[DEBUG][2025-03-20 15:38:15][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C49892E60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x0000023C44D60580>})
[DEBUG][2025-03-20 15:38:15][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:38:16][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:38:16][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:38:16][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ6IvvvgYYw6rZspeAgAMgBw==', 'at_list': [], 'content': 'æˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1587', 'receiver': '7881300831231229', 'send_time': '1742456296', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1008013'}, 'type': 11041}
[DEBUG][2025-03-20 15:38:16][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:39:08][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '4910556096925680479', 'at_list': [], 'content': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1588', 'receiver': '1688856140600643', 'send_time': '1742456347', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1008015'}, 'type': 11041}
[DEBUG][2025-03-20 15:39:08][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:39:08][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:39:08][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 7944, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:39:08][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:39:08][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742456347, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:39:10][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:39:10][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "4910556096925680479", "at_list": [], "content": "æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1588", "receiver": "1688856140600643", "send_time": "1742456347", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1008015"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742456347, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:39:10][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 1 seconds.
[DEBUG][2025-03-20 15:39:10][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:39:11][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C87FBF640>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:39:11][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C87FBF640>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:39:11][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}]
[INFO][2025-03-20 15:39:11][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}]
[DEBUG][2025-03-20 15:39:11][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:39:12][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x0000023C49892E30> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}]
[DEBUG][2025-03-20 15:39:24][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚
è¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€)
[DEBUG][2025-03-20 15:39:24][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚
è¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C87FBF640>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x0000023C44D60580>})
[DEBUG][2025-03-20 15:39:24][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C87FBF640>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x0000023C44D60580>})
[DEBUG][2025-03-20 15:39:24][wecommix_channel.py:317] - match: None
[INFO][2025-03-20 15:39:25][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚
è¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:39:25][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:39:25][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQrYzvvgYYw6rZspeAgAMgCA==', 'at_list': [], 'content': 'è½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1589', 'receiver': '7881300831231229', 'send_time': '1742456365', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1008018'}, 'type': 11041}
[DEBUG][2025-03-20 15:39:25][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:39:41][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': '5763634616816319632', 'at_list': [], 'content': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 0, 'local_id': '1590', 'receiver': '1688856140600643', 'send_time': '1742456379', 'sender': '7881300831231229', 'sender_name': 'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰', 'server_id': '1008020'}, 'type': 11041}
[DEBUG][2025-03-20 15:39:41][wecommix_channel.py:133] - æ­£åœ¨ä¸ºå•èŠåˆ›å»º WecommixMessage
[INFO][2025-03-20 15:39:41][config.py:286] - [Config] User datas saved.
[DEBUG][2025-03-20 15:39:41][wecommix_message.py:214] - login_info: {'account': '', 'acctid': 'HeSongSheng', 'avatar': 'https://wework.qpic.cn/wwpic3az/644626_aXqYsbW0SGq35nf_1702710206/0', 'corp_id': '1970325146986767', 'document_root': 'C:\\Users\\é¾™å´ç›ˆå­\\Documents\\WXWork\\1688856140600643', 'email': '', 'job_name': '', 'mobile': '15929269926', 'nickname': 'ä½•é¢‚ç”Ÿ', 'pid': 7944, 'position': '', 'sex': 1, 'user_id': '1688856140600643', 'username': 'å¼ é”¦æ¾œ'}
[DEBUG][2025-03-20 15:39:41][wecommix_message.py:263] - WeworkMessage has been successfully instantiated with message id: S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:39:41][wecommix_channel.py:135] - cmsg:ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742456379, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}, {'assistant': 'ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2025-03-20 15:39:43][wecommix_channel.py:146] - å‡†å¤‡ç”¨ WecommixChannel å¤„ç†å•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:39:43][wecommix_channel.py:284] - [Wecommix]receive text msg: {"data": {"appinfo": "5763634616816319632", "at_list": [], "content": "ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ", "content_type": 2, "conversation_id": "S:1688856140600643_7881300831231229", "is_pc": 0, "local_id": "1590", "receiver": "1688856140600643", "send_time": "1742456379", "sender": "7881300831231229", "sender_name": "æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰", "server_id": "1008020"}, "type": 11041}, cmsg=ChatMessage: id=S:1688856140600643_7881300831231229, create_time=1742456379, ctype=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}, {'assistant': 'ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], from_user_id=S:1688856140600643_7881300831231229, from_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, to_user_id=1688856140600643, to_user_nickname=å¼ é”¦æ¾œ(ä½•é¢‚ç”Ÿ), other_user_id=S:1688856140600643_7881300831231229, other_user_nickname=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[INFO][2025-03-20 15:39:43][message_buffer.py:45] - Reset timer and add message S:1688856140600643_7881300831231229 wait for 1 seconds.
[DEBUG][2025-03-20 15:39:43][wecommix_channel.py:151] - å·²ç”¨ WecommixChannel å¤„ç†å®Œå•èŠæ¶ˆæ¯
[DEBUG][2025-03-20 15:39:44][chat_channel.py:491] - [chat_channel] consume context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}, {'assistant': 'ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C87FBDD20>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:39:44][chat_channel.py:217] - [chat_channel] ready to handle context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}, {'assistant': 'ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C87FBDD20>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229'})
[DEBUG][2025-03-20 15:39:44][chat_channel.py:243] - [chat_channel] ready to handle context: type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}, {'assistant': 'ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}]
[INFO][2025-03-20 15:39:44][bytedance_coze_bot.py:41] - [COZE] query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}, {'assistant': 'ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}]
[DEBUG][2025-03-20 15:39:44][bytedance_coze_bot.py:56] - [COZE] user_id=æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰
[DEBUG][2025-03-20 15:39:44][bytedance_coze_bot.py:59] - [COZE] session=<bot.bytedance.coze_session.CozeSession object at 0x0000023C49892E30> query=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}, {'assistant': 'ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}]
[DEBUG][2025-03-20 15:40:01][chat_channel.py:219] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸šï¼Œèƒ½è‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®~ã€
ã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœå¤§é‡é”€å”®é‡å¤åŠ¨ä½œã€‚ã€
ã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰åŠŸèƒ½ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å‘é€å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰åŠŸèƒ½ã€‚ã€ğŸ˜Š)
[DEBUG][2025-03-20 15:40:01][chat_channel.py:362] - [chat_channel] ready to send reply: Reply(type=TEXT, content=ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸šï¼Œèƒ½è‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®~ã€
ã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœå¤§é‡é”€å”®é‡å¤åŠ¨ä½œã€‚ã€
ã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰åŠŸèƒ½ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å‘é€å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰åŠŸèƒ½ã€‚ã€ğŸ˜Š), context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}, {'assistant': 'ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C87FBDD20>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x0000023C44D60580>})
[DEBUG][2025-03-20 15:40:01][wecommix_channel.py:312] - context: Context(type=TEXT, content=[{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}, {'assistant': 'ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}], kwargs={'isgroup': False, 'msg': <channel.wecommix.wecommix_message.WecomMixMessage object at 0x0000023C87FBDD20>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': 'S:1688856140600643_7881300831231229', 'receiver': 'S:1688856140600643_7881300831231229', 'channel': <channel.wecommix.wecommix_channel.WecomMixChannel object at 0x0000023C44D60580>})
[DEBUG][2025-03-20 15:40:01][wecommix_channel.py:317] - match: None
[DEBUG][2025-03-20 15:40:02][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ0ozvvgYYw6rZspeAgAMgCQ==', 'at_list': [], 'content': 'æˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸šï¼Œèƒ½è‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®~', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1591', 'receiver': '7881300831231229', 'send_time': '1742456402', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1008023'}, 'type': 11041}
[DEBUG][2025-03-20 15:40:02][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 15:40:03][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ04zvvgYYw6rZspeAgAMgCg==', 'at_list': [], 'content': 'è¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœå¤§é‡é”€å”®é‡å¤åŠ¨ä½œã€‚', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1592', 'receiver': '7881300831231229', 'send_time': '1742456403', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1008025'}, 'type': 11041}
[DEBUG][2025-03-20 15:40:03][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[INFO][2025-03-20 15:40:04][wecommix_channel.py:339] - [WX] sendMsg=Reply(type=TEXT, content=ã€Œæˆ‘ä»¬çš„è½¯ä»¶é€‚åˆç½‘é”€ç±»è¡Œä¸šï¼Œèƒ½è‡ªåŠ¨é€šè¿‡å¥½å‹ã€è‡ªåŠ¨å›å¤é”€å”®~ã€
ã€Œè¿˜èƒ½è®­ç»ƒå±äºæ‚¨è‡ªå·±è¡Œä¸šçš„é”€å”®å¤§æ¨¡å‹ï¼Œç›®å‰å¯è§£å†³70 - 80%çš„å‰æœŸç­›é€‰ç¯èŠ‚ï¼ŒèŠ‚çœå¤§é‡é”€å”®é‡å¤åŠ¨ä½œã€‚ã€
ã€Œä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰åŠŸèƒ½ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å‘é€å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰åŠŸèƒ½ã€‚ã€ğŸ˜Š), receiver=S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:40:04][chat_channel.py:410] - Worker return success, session_id = S:1688856140600643_7881300831231229
[DEBUG][2025-03-20 15:40:04][wecommix_channel.py:171] - æ”¶åˆ°æ¶ˆæ¯: {'data': {'appinfo': 'CAEQ1IzvvgYYw6rZspeAgAMgCw==', 'at_list': [], 'content': 'ä¼ä¸šå¾®ä¿¡æ”¯æŒå®šæ—¶ç¾¤å‘ã€è‡ªåŠ¨é€šè¿‡å¥½å‹ç­‰åŠŸèƒ½ï¼›ä¸ªäººå¾®ä¿¡æ”¯æŒè‡ªåŠ¨é€šè¿‡å¥½å‹ã€å‘é€å›¾ç‰‡ã€è¯­éŸ³è¯†åˆ«ç­‰åŠŸèƒ½ã€‚', 'content_type': 2, 'conversation_id': 'S:1688856140600643_7881300831231229', 'is_pc': 1, 'local_id': '1593', 'receiver': '7881300831231229', 'send_time': '1742456404', 'sender': '1688856140600643', 'sender_name': 'å¼ é”¦æ¾œ', 'server_id': '1008027'}, 'type': 11041}
[DEBUG][2025-03-20 15:40:04][wecommix_channel.py:175] - è‡ªå·±å‘çš„ï¼Œç›´æ¥ç»“æŸ
[DEBUG][2025-03-20 16:16:29][config.py:346] - [INIT] set log level to DEBUG
[INFO][2025-03-20 16:16:29][config.py:348] - [INIT] load config: {'always_reply_voice': False, 'channel_type': 'wecommix', 'coze_api_base': 'https://api.coze.cn', 'coze_api_key': 'pat*****mRp', 'coze_bot_id': '7481860374594256915', 'coze_return_show_img': True, 'debug': True, 'dify_api_base': 'http://localhost/v1', 'dify_api_key': 'app*****AWY', 'dify_app_type': 'chatbot', 'gewechat_app_id': 'wx_NGQW5r8ByAR4LLE95m7Ks', 'gewechat_base_url': 'http://192.168.31.235:2531/v2/api', 'gewechat_callback_url': 'http://192.168.31.235:9919/v2/api/callback/collect', 'gewechat_download_url': 'http://192.168.31.235:2532/download', 'gewechat_token': '83efaf2c67124e90af810820cc12efc0', 'message_buffer_second': 1, 'model': 'coze', 'nick_name_black_list': [], 'sikulix_describe': 'wec', 'skip_ai_keywords': '123*****123', 'speech_recognition': True, 'text_to_voice': 'xunfei', 'tts_voice_id': 'alloy', 'voice_reply_voice': False, 'voice_to_text': 'xunfei', 'wecommix_broadcast': False, 'wxid_black_list': [], 'wxid_recip_note': '', 'xf_audio_api_key': 'bb6*****bcc', 'xf_audio_app_id': '679085ad', 'xf_audio_business_args_asr': {'domain': 'iat', 'language': 'zh_cn', 'accent': 'mandarin', 'vad_eos': 10000, 'dwa': 'wpgs'}, 'xf_audio_business_args_tts': {'aue': 'lame', 'sfl': 1, 'auf': 'audio/L16;rate=16000', 'vcn': 'xiaoyan', 'tte': 'utf8'}, 'xf_audio_secret': 'YmM*****jRj'}
[INFO][2025-03-20 16:16:29][config.py:275] - [Config] User datas loaded.{'S:1688856140600643_7881300831231229': {'history': [{'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'åœ¨'}, {'assistant': 'ã€Œåœ¨åœ¨åœ¨~æˆ‘åœ¨å‘¢ğŸ˜† çœ‹ä½ æ‰¾æˆ‘ï¼Œæ˜¯æƒ³äº†è§£AIé”€å”®è½¯ä»¶çš„ç›¸å…³å†…å®¹å—ğŸ§ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ æœ‰äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}, {'assistant': 'ã€Œæˆ‘èƒ½é™ªä½ è°ˆå¤©è¯´åœ°å‘€~æ— è®ºæ˜¯ç”Ÿæ´»è¶£äº‹ã€çƒ­é—¨ç”µå½±ã€éŸ³ä¹ï¼Œè¿˜æ˜¯å„ç§çŸ¥è¯†ï¼Œæˆ‘éƒ½èƒ½å’Œä½ å¥½å¥½èŠèŠğŸ˜œ è¦æ˜¯ä½ æœ‰çƒ¦æ¼ï¼Œä¹Ÿå¯ä»¥è·Ÿæˆ‘å€¾è¯‰ï¼Œæˆ‘ä¼šè€å¿ƒå€¾å¬ï¼Œç»™ä½ å‡ºå‡ºä¸»æ„ğŸ¤— æ€ä¹ˆæ ·ï¼Œæœ‰æ²¡æœ‰å¿ƒåŠ¨å‘€~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'æ€ä¹ˆæ”¶è´¹çš„ï¼Ÿ'}, {'assistant': 'ã€Œè½¯ä»¶æ˜¯5980å…ƒ1âƒ£å¥—ï¼Œå¯ä»¥ç»‘å®šä¸€ä¸ªå¾®ä¿¡ä½¿ç”¨ä¸€å¹´ã€‚\nè¦æ˜¯ä½ è¿™è¾¹é”€å”®è¾ƒå¤šï¼Œä¹Ÿå¯ä»¥èŠ±2ä¸‡ä¹°æºç ï¼Œä¸é™åˆ¶å¾®ä¿¡æ•°é‡~ã€'}, {'æœ›é¾™ï¼ˆaié”€å”®ç‰ˆï¼‰': 'ä½ ä»¬è¿™ä¸ªè½¯ä»¶æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ'}]}}
